2025-11-08 14:23:32 - main - INFO - Starting application...
2025-11-08 14:23:39 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:23:39 - main - INFO - Application started successfully
2025-11-08 14:23:39 - main - INFO - Starting application...
2025-11-08 14:23:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:23:46 - main - INFO - Application started successfully
2025-11-08 14:23:47 - main - INFO - Starting application...
2025-11-08 14:23:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:23:53 - main - INFO - Application started successfully
2025-11-08 14:23:53 - main - INFO - Starting application...
2025-11-08 14:24:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:24:01 - main - INFO - Application started successfully
2025-11-08 14:24:01 - main - INFO - Starting application...
2025-11-08 14:24:08 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:24:08 - main - INFO - Application started successfully
2025-11-08 14:24:08 - main - INFO - Starting application...
2025-11-08 14:24:15 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:24:15 - main - INFO - Application started successfully
2025-11-08 14:24:56 - main - INFO - Shutting down application...
2025-11-08 14:24:57 - app.database.db - INFO - MongoDB disconnected
2025-11-08 14:24:57 - main - INFO - Application shut down
2025-11-08 14:24:57 - main - INFO - Starting application...
2025-11-08 14:25:04 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 14:25:04 - main - INFO - Application started successfully
2025-11-08 14:26:31 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-08 14:26:31 - pesapal.client - INFO - Submitting payment order: ORDER-00557 - 75000.0 TZS
2025-11-08 14:26:32 - app.services.payment_service - INFO - Payment initiated successfully: order_id=ORDER-00557, tracking_id=85376ce0-d0e8-4c44-b182-db1d57ccb35f
2025-11-08 14:27:28 - main - INFO - Shutting down application...
2025-11-08 14:27:29 - app.database.db - INFO - MongoDB disconnected
2025-11-08 14:27:29 - main - INFO - Application shut down
2025-11-08 22:48:59 - main - INFO - Starting application...
2025-11-08 22:49:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-08 22:49:01 - main - INFO - Application started successfully
2025-11-09 00:13:36 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 00:13:36 - pesapal.client - INFO - Submitting payment order: E04343 - 1000.0 TZS
2025-11-09 00:13:36 - app.services.payment_service - INFO - Payment initiated successfully: order_id=E04343, tracking_id=7a362fa9-f697-464e-a3cb-db1d699baac6
2025-11-09 00:17:09 - main - INFO - Shutting down application...
2025-11-09 00:17:09 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:17:09 - main - INFO - Application shut down
2025-11-09 00:17:09 - main - INFO - Starting application...
2025-11-09 00:17:11 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:17:11 - main - INFO - Application started successfully
2025-11-09 00:17:16 - main - INFO - Shutting down application...
2025-11-09 00:17:16 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:17:16 - main - INFO - Application shut down
2025-11-09 00:17:16 - main - INFO - Starting application...
2025-11-09 00:17:18 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:17:18 - main - INFO - Application started successfully
2025-11-09 00:17:31 - main - INFO - Shutting down application...
2025-11-09 00:17:31 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:17:31 - main - INFO - Application shut down
2025-11-09 00:17:31 - main - INFO - Starting application...
2025-11-09 00:17:33 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:17:33 - main - INFO - Application started successfully
2025-11-09 00:17:36 - main - INFO - Shutting down application...
2025-11-09 00:17:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:17:36 - main - INFO - Application shut down
2025-11-09 00:17:36 - main - INFO - Starting application...
2025-11-09 00:17:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:17:38 - main - INFO - Application started successfully
2025-11-09 00:18:48 - app.routers.webhooks - WARNING - Webhook received without signature - processing anyway
2025-11-09 00:18:48 - app.routers.webhooks - INFO - Webhook received and queued for processing
2025-11-09 00:18:48 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:18:48 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:18:48 - app.routers.webhooks - ERROR - Error processing webhook: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/webhooks.py", line 24, in process_webhook_background
    await service.process_webhook(webhook_data)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/webhook_service.py", line 96, in process_webhook
    raise ValueError("Invalid webhook data: missing OrderTrackingId or OrderMerchantReference")
ValueError: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:19:02 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 00:19:02 - app.routers.webhooks - INFO - Webhook received and queued for processing (GET)
2025-11-09 00:19:02 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:19:02 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:19:02 - app.routers.webhooks - ERROR - Error processing webhook: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/webhooks.py", line 24, in process_webhook_background
    await service.process_webhook(webhook_data)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/webhook_service.py", line 96, in process_webhook
    raise ValueError("Invalid webhook data: missing OrderTrackingId or OrderMerchantReference")
ValueError: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:20:07 - main - INFO - Shutting down application...
2025-11-09 00:20:07 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:20:07 - main - INFO - Application shut down
2025-11-09 00:20:08 - main - INFO - Starting application...
2025-11-09 00:20:09 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:20:09 - main - INFO - Application started successfully
2025-11-09 00:20:10 - main - INFO - Starting application...
2025-11-09 00:20:11 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:20:11 - main - INFO - Application started successfully
2025-11-09 00:20:24 - main - INFO - Shutting down application...
2025-11-09 00:20:24 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:20:24 - main - INFO - Application shut down
2025-11-09 00:20:24 - main - INFO - Starting application...
2025-11-09 00:20:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:20:26 - main - INFO - Application started successfully
2025-11-09 00:20:33 - main - INFO - Shutting down application...
2025-11-09 00:20:33 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:20:33 - main - INFO - Application shut down
2025-11-09 00:20:33 - main - INFO - Starting application...
2025-11-09 00:20:35 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:20:35 - main - INFO - Application started successfully
2025-11-09 00:20:41 - main - INFO - Shutting down application...
2025-11-09 00:20:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:20:41 - main - INFO - Application shut down
2025-11-09 00:20:42 - main - INFO - Starting application...
2025-11-09 00:20:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:20:44 - main - INFO - Application started successfully
2025-11-09 00:22:35 - main - INFO - Shutting down application...
2025-11-09 00:22:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:22:36 - main - INFO - Application shut down
2025-11-09 00:22:36 - main - INFO - Starting application...
2025-11-09 00:22:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:22:38 - main - INFO - Application started successfully
2025-11-09 00:22:39 - main - INFO - Shutting down application...
2025-11-09 00:22:39 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:22:39 - main - INFO - Application shut down
2025-11-09 00:22:40 - main - INFO - Starting application...
2025-11-09 00:22:41 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:22:41 - main - INFO - Application started successfully
2025-11-09 00:22:43 - main - INFO - Shutting down application...
2025-11-09 00:22:43 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:22:43 - main - INFO - Application shut down
2025-11-09 00:22:43 - main - INFO - Starting application...
2025-11-09 00:22:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:22:45 - main - INFO - Application started successfully
2025-11-09 00:22:47 - main - INFO - Shutting down application...
2025-11-09 00:22:47 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:22:47 - main - INFO - Application shut down
2025-11-09 00:22:47 - main - INFO - Starting application...
2025-11-09 00:22:49 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:22:49 - main - INFO - Application started successfully
2025-11-09 00:22:53 - main - INFO - Shutting down application...
2025-11-09 00:22:54 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:22:54 - main - INFO - Application shut down
2025-11-09 00:22:54 - main - INFO - Starting application...
2025-11-09 00:22:56 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:22:56 - main - INFO - Application started successfully
2025-11-09 00:22:58 - main - INFO - Shutting down application...
2025-11-09 00:22:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:22:58 - main - INFO - Application shut down
2025-11-09 00:22:59 - main - INFO - Starting application...
2025-11-09 00:23:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:23:00 - main - INFO - Application started successfully
2025-11-09 00:23:27 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:23:27 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 00:23:27 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 00:23:27 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:23:27 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:23:27 - app.routers.webhooks - ERROR - Error processing webhook synchronously (GET): Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:23:27 - app.routers.webhooks - INFO - Webhook GET received and processed. Status: 500
2025-11-09 00:23:27 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:23:27 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:23:27 - app.routers.webhooks - ERROR - Error processing webhook: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/webhooks.py", line 24, in process_webhook_background
    await service.process_webhook(webhook_data)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/webhook_service.py", line 96, in process_webhook
    raise ValueError("Invalid webhook data: missing OrderTrackingId or OrderMerchantReference")
ValueError: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:25:09 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:25:09 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:25:09 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:25:09 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:25:09 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:25:15 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:25:15 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:25:15 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:25:15 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:25:15 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:26:03 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 00:26:03 - pesapal.client - INFO - Submitting payment order: T845-3423UH0-jJHk - 1000.0 TZS
2025-11-09 00:26:04 - app.services.payment_service - INFO - Payment initiated successfully: order_id=T845-3423UH0-jJHk, tracking_id=c71bb5d1-a5fd-41f2-aa51-db1df1f77adf
2025-11-09 00:27:43 - main - INFO - Shutting down application...
2025-11-09 00:27:43 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:27:43 - main - INFO - Application shut down
2025-11-09 00:27:43 - main - INFO - Starting application...
2025-11-09 00:27:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:27:45 - main - INFO - Application started successfully
2025-11-09 00:27:52 - main - INFO - Shutting down application...
2025-11-09 00:27:53 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:27:53 - main - INFO - Application shut down
2025-11-09 00:30:34 - main - INFO - Starting application...
2025-11-09 00:30:35 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:30:35 - main - INFO - Application started successfully
2025-11-09 00:30:35 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:30:35 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:30:35 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:30:35 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:30:35 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:30:49 - main - INFO - Shutting down application...
2025-11-09 00:30:49 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:30:49 - main - INFO - Application shut down
2025-11-09 00:30:50 - main - INFO - Starting application...
2025-11-09 00:30:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:30:51 - main - INFO - Application started successfully
2025-11-09 00:30:52 - main - INFO - Starting application...
2025-11-09 00:30:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:30:53 - main - INFO - Application started successfully
2025-11-09 00:34:30 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:34:30 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:34:30 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:34:30 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:34:30 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:34:49 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 00:34:49 - pesapal.client - INFO - Submitting payment order: T845-3423UH0-jJHk6 - 2000.0 TZS
2025-11-09 00:34:49 - app.services.payment_service - INFO - Payment initiated successfully: order_id=T845-3423UH0-jJHk6, tracking_id=e2281a46-d273-45d8-b3e2-db1d609e7cf9
2025-11-09 00:36:29 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:36:29 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:36:29 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:36:29 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:36:29 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:36:33 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:36:33 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:36:33 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:36:33 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:36:33 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:38:33 - main - INFO - Shutting down application...
2025-11-09 00:38:33 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:38:33 - main - INFO - Application shut down
2025-11-09 00:38:35 - main - INFO - Starting application...
2025-11-09 00:38:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:38:36 - main - INFO - Application started successfully
2025-11-09 00:38:52 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 00:38:52 - pesapal.client - INFO - Submitting payment order: T845-3423UH0-jJHk7 - 2000.0 TZS
2025-11-09 00:38:52 - app.services.payment_service - INFO - Payment initiated successfully: order_id=T845-3423UH0-jJHk7, tracking_id=1c40d5db-fde1-4f96-b2c2-db1db0bc5785
2025-11-09 00:39:05 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:39:05 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 00:39:05 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 00:39:05 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 00:39:05 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 00:39:16 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:39:16 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 00:39:16 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 00:39:16 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:39:16 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:39:16 - app.routers.webhooks - ERROR - Error processing webhook synchronously (GET): Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:39:16 - app.routers.webhooks - INFO - Webhook GET received and processed. Status: 500
2025-11-09 00:39:16 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:39:16 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:39:16 - app.routers.webhooks - ERROR - Error processing webhook: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/webhooks.py", line 24, in process_webhook_background
    await service.process_webhook(webhook_data)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/webhook_service.py", line 96, in process_webhook
    raise ValueError("Invalid webhook data: missing OrderTrackingId or OrderMerchantReference")
ValueError: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:39:20 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:39:20 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 00:39:20 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 00:39:20 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:39:20 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:39:20 - app.routers.webhooks - ERROR - Error processing webhook synchronously (GET): Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:39:20 - app.routers.webhooks - INFO - Webhook GET received and processed. Status: 500
2025-11-09 00:39:20 - app.services.webhook_service - INFO - Processing webhook: tracking_id=None, order_ref=None, type=None
2025-11-09 00:39:20 - app.services.webhook_service - ERROR - Invalid webhook data: missing required fields. Data: {}
2025-11-09 00:39:20 - app.routers.webhooks - ERROR - Error processing webhook: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/webhooks.py", line 24, in process_webhook_background
    await service.process_webhook(webhook_data)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/webhook_service.py", line 96, in process_webhook
    raise ValueError("Invalid webhook data: missing OrderTrackingId or OrderMerchantReference")
ValueError: Invalid webhook data: missing OrderTrackingId or OrderMerchantReference
2025-11-09 00:39:55 - main - INFO - Shutting down application...
2025-11-09 00:39:56 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:39:56 - main - INFO - Application shut down
2025-11-09 00:39:56 - main - INFO - Starting application...
2025-11-09 00:39:58 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:39:58 - main - INFO - Application started successfully
2025-11-09 00:40:01 - main - INFO - Shutting down application...
2025-11-09 00:40:01 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:40:01 - main - INFO - Application shut down
2025-11-09 00:40:02 - main - INFO - Starting application...
2025-11-09 00:40:03 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:40:03 - main - INFO - Application started successfully
2025-11-09 00:40:16 - main - INFO - Shutting down application...
2025-11-09 00:40:16 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:40:16 - main - INFO - Application shut down
2025-11-09 00:40:17 - main - INFO - Starting application...
2025-11-09 00:40:18 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:40:18 - main - INFO - Application started successfully
2025-11-09 00:49:08 - main - INFO - Shutting down application...
2025-11-09 00:49:08 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:49:08 - main - INFO - Application shut down
2025-11-09 00:49:09 - main - INFO - Starting application...
2025-11-09 00:49:11 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:49:11 - main - INFO - Application started successfully
2025-11-09 00:49:36 - main - INFO - Shutting down application...
2025-11-09 00:49:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:49:36 - main - INFO - Application shut down
2025-11-09 00:49:37 - main - INFO - Starting application...
2025-11-09 00:49:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:49:38 - main - INFO - Application started successfully
2025-11-09 00:49:39 - main - INFO - Shutting down application...
2025-11-09 00:49:39 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:49:39 - main - INFO - Application shut down
2025-11-09 00:49:39 - main - INFO - Starting application...
2025-11-09 00:49:41 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:49:41 - main - INFO - Application started successfully
2025-11-09 00:49:42 - main - INFO - Shutting down application...
2025-11-09 00:49:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:49:42 - main - INFO - Application shut down
2025-11-09 00:49:42 - main - INFO - Starting application...
2025-11-09 00:49:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:49:44 - main - INFO - Application started successfully
2025-11-09 00:49:51 - main - INFO - Shutting down application...
2025-11-09 00:49:51 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:49:51 - main - INFO - Application shut down
2025-11-09 00:49:51 - main - INFO - Starting application...
2025-11-09 00:49:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:49:53 - main - INFO - Application started successfully
2025-11-09 00:49:57 - main - INFO - Shutting down application...
2025-11-09 00:49:57 - app.database.db - INFO - MongoDB disconnected
2025-11-09 00:49:57 - main - INFO - Application shut down
2025-11-09 00:49:58 - main - INFO - Starting application...
2025-11-09 00:49:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 00:49:59 - main - INFO - Application started successfully
2025-11-09 00:51:19 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:51:19 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 00:51:19 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 00:51:19 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET), using default: IPNCHANGE
2025-11-09 00:51:19 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 00:51:52 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 00:51:52 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 00:51:52 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 00:51:52 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET), using default: IPNCHANGE
2025-11-09 00:51:52 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 01:01:18 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:01:18 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 01:01:18 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 01:01:18 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET), using default: IPNCHANGE
2025-11-09 01:01:18 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 01:01:26 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:01:26 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 01:01:26 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 01:01:26 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET), using default: IPNCHANGE
2025-11-09 01:01:26 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 01:08:18 - main - INFO - Shutting down application...
2025-11-09 01:08:18 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:08:18 - main - INFO - Application shut down
2025-11-09 01:08:18 - main - INFO - Starting application...
2025-11-09 01:08:20 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:08:20 - main - INFO - Application started successfully
2025-11-09 01:08:26 - main - INFO - Shutting down application...
2025-11-09 01:08:26 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:08:26 - main - INFO - Application shut down
2025-11-09 01:08:26 - main - INFO - Starting application...
2025-11-09 01:08:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:08:28 - main - INFO - Application started successfully
2025-11-09 01:08:37 - main - INFO - Shutting down application...
2025-11-09 01:08:37 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:08:37 - main - INFO - Application shut down
2025-11-09 01:08:38 - main - INFO - Starting application...
2025-11-09 01:08:39 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:08:39 - main - INFO - Application started successfully
2025-11-09 01:08:50 - main - INFO - Shutting down application...
2025-11-09 01:08:50 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:08:50 - main - INFO - Application shut down
2025-11-09 01:08:51 - main - INFO - Starting application...
2025-11-09 01:08:52 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:08:52 - main - INFO - Application started successfully
2025-11-09 01:09:42 - main - INFO - Shutting down application...
2025-11-09 01:09:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:09:42 - main - INFO - Application shut down
2025-11-09 01:09:43 - main - INFO - Starting application...
2025-11-09 01:09:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:09:44 - main - INFO - Application started successfully
2025-11-09 01:09:52 - main - INFO - Shutting down application...
2025-11-09 01:09:52 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:09:52 - main - INFO - Application shut down
2025-11-09 01:09:52 - main - INFO - Starting application...
2025-11-09 01:09:54 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:09:54 - main - INFO - Application started successfully
2025-11-09 01:10:00 - main - INFO - Shutting down application...
2025-11-09 01:10:01 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:10:01 - main - INFO - Application shut down
2025-11-09 01:10:01 - main - INFO - Starting application...
2025-11-09 01:10:03 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:10:03 - main - INFO - Application started successfully
2025-11-09 01:10:45 - main - INFO - Shutting down application...
2025-11-09 01:10:45 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:10:45 - main - INFO - Application shut down
2025-11-09 01:10:46 - main - INFO - Starting application...
2025-11-09 01:10:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:10:47 - main - INFO - Application started successfully
2025-11-09 01:13:23 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:13:23 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 01:13:23 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 01:13:23 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 01:13:23 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 01:13:25 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:13:25 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 01:13:25 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 01:13:25 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 01:13:25 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 01:13:26 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:13:26 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 01:13:26 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 01:13:26 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 01:13:26 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 01:14:12 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 01:14:12 - pesapal.client - INFO - Submitting payment order: str5-5-3343ffNBS-NSing - 4000.0 TZS
2025-11-09 01:14:12 - app.services.payment_service - INFO - Payment initiated successfully: order_id=str5-5-3343ffNBS-NSing, tracking_id=1138cd36-063a-48c3-bc7d-db1d9b5a70bd
2025-11-09 01:27:38 - main - INFO - Shutting down application...
2025-11-09 01:27:38 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:27:38 - main - INFO - Application shut down
2025-11-09 01:27:38 - main - INFO - Starting application...
2025-11-09 01:27:40 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:27:40 - main - INFO - Application started successfully
2025-11-09 01:27:40 - main - INFO - Starting application...
2025-11-09 01:27:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:27:43 - main - INFO - Application started successfully
2025-11-09 01:27:44 - main - INFO - Starting application...
2025-11-09 01:27:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:27:45 - main - INFO - Application started successfully
2025-11-09 01:27:46 - main - INFO - Starting application...
2025-11-09 01:27:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:27:47 - main - INFO - Application started successfully
2025-11-09 01:27:47 - main - INFO - Starting application...
2025-11-09 01:27:49 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:27:49 - main - INFO - Application started successfully
2025-11-09 01:27:55 - main - INFO - Shutting down application...
2025-11-09 01:27:55 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:27:55 - main - INFO - Application shut down
2025-11-09 01:27:55 - main - INFO - Starting application...
2025-11-09 01:27:57 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:27:57 - main - INFO - Application started successfully
2025-11-09 01:27:58 - main - INFO - Shutting down application...
2025-11-09 01:27:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:27:58 - main - INFO - Application shut down
2025-11-09 01:27:59 - main - INFO - Starting application...
2025-11-09 01:28:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:00 - main - INFO - Application started successfully
2025-11-09 01:28:01 - main - INFO - Starting application...
2025-11-09 01:28:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:02 - main - INFO - Application started successfully
2025-11-09 01:28:02 - main - INFO - Shutting down application...
2025-11-09 01:28:03 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:28:03 - main - INFO - Application shut down
2025-11-09 01:28:03 - main - INFO - Starting application...
2025-11-09 01:28:05 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:05 - main - INFO - Application started successfully
2025-11-09 01:28:20 - main - INFO - Shutting down application...
2025-11-09 01:28:20 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:28:20 - main - INFO - Application shut down
2025-11-09 01:28:20 - main - INFO - Starting application...
2025-11-09 01:28:22 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:22 - main - INFO - Application started successfully
2025-11-09 01:28:22 - main - INFO - Starting application...
2025-11-09 01:28:24 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:24 - main - INFO - Application started successfully
2025-11-09 01:28:24 - main - INFO - Starting application...
2025-11-09 01:28:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:26 - main - INFO - Application started successfully
2025-11-09 01:28:26 - main - INFO - Starting application...
2025-11-09 01:28:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:28 - main - INFO - Application started successfully
2025-11-09 01:28:51 - main - INFO - Shutting down application...
2025-11-09 01:28:52 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:28:52 - main - INFO - Application shut down
2025-11-09 01:28:52 - main - INFO - Starting application...
2025-11-09 01:28:54 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:28:54 - main - INFO - Application started successfully
2025-11-09 01:29:29 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 01:29:29 - pesapal.client - INFO - Submitting payment order: str5-343ffNBS-NSing - 4000.0 TZS
2025-11-09 01:29:30 - app.services.payment_service - INFO - Payment initiated successfully: order_id=str5-343ffNBS-NSing, tracking_id=fc9faa64-9f10-46e0-bfbd-db1da8980589
2025-11-09 01:30:04 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:30:04 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 01:30:04 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 01:30:04 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET) from Pesapal
2025-11-09 01:30:04 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 01:30:07 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:30:07 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 01:30:07 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 01:30:07 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET) from Pesapal
2025-11-09 01:30:07 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 01:31:17 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:31:17 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 01:31:17 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 01:31:17 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 01:31:17 - app.routers.webhooks - ERROR - Empty webhook data received. Body: , Content-Type: 
2025-11-09 01:31:43 - main - INFO - Shutting down application...
2025-11-09 01:31:43 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:31:43 - main - INFO - Application shut down
2025-11-09 01:31:44 - main - INFO - Starting application...
2025-11-09 01:31:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:31:47 - main - INFO - Application started successfully
2025-11-09 01:31:50 - main - INFO - Shutting down application...
2025-11-09 01:31:51 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:31:51 - main - INFO - Application shut down
2025-11-09 01:31:51 - main - INFO - Starting application...
2025-11-09 01:31:52 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:31:52 - main - INFO - Application started successfully
2025-11-09 01:32:57 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 01:32:57 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 01:32:57 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 01:32:57 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 01:32:57 - app.routers.webhooks - WARNING - Empty webhook data received. Body: , Content-Type: 
2025-11-09 01:35:44 - main - INFO - Shutting down application...
2025-11-09 01:35:44 - app.database.db - INFO - MongoDB disconnected
2025-11-09 01:35:44 - main - INFO - Application shut down
2025-11-09 01:35:45 - main - INFO - Starting application...
2025-11-09 01:35:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 01:35:47 - main - INFO - Application started successfully
2025-11-09 02:12:35 - main - INFO - Shutting down application...
2025-11-09 02:12:35 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:12:35 - main - INFO - Application shut down
2025-11-09 02:12:36 - main - INFO - Starting application...
2025-11-09 02:12:37 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:12:37 - main - INFO - Application started successfully
2025-11-09 02:12:38 - main - INFO - Starting application...
2025-11-09 02:12:39 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:12:39 - main - INFO - Application started successfully
2025-11-09 02:12:44 - main - INFO - Shutting down application...
2025-11-09 02:12:45 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:12:45 - main - INFO - Application shut down
2025-11-09 02:12:45 - main - INFO - Starting application...
2025-11-09 02:12:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:12:47 - main - INFO - Application started successfully
2025-11-09 02:13:39 - main - INFO - Shutting down application...
2025-11-09 02:13:39 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:13:39 - main - INFO - Application shut down
2025-11-09 02:13:39 - main - INFO - Starting application...
2025-11-09 02:13:41 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:13:41 - main - INFO - Application started successfully
2025-11-09 02:33:58 - main - INFO - Shutting down application...
2025-11-09 02:33:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:33:58 - main - INFO - Application shut down
2025-11-09 02:33:59 - main - INFO - Starting application...
2025-11-09 02:34:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:00 - main - INFO - Application started successfully
2025-11-09 02:34:01 - main - INFO - Starting application...
2025-11-09 02:34:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:02 - main - INFO - Application started successfully
2025-11-09 02:34:03 - main - INFO - Starting application...
2025-11-09 02:34:05 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:05 - main - INFO - Application started successfully
2025-11-09 02:34:10 - main - INFO - Shutting down application...
2025-11-09 02:34:10 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:34:10 - main - INFO - Application shut down
2025-11-09 02:34:10 - main - INFO - Starting application...
2025-11-09 02:34:12 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:12 - main - INFO - Application started successfully
2025-11-09 02:34:12 - main - INFO - Starting application...
2025-11-09 02:34:14 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:14 - main - INFO - Application started successfully
2025-11-09 02:34:14 - main - INFO - Starting application...
2025-11-09 02:34:16 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:16 - main - INFO - Application started successfully
2025-11-09 02:34:16 - main - INFO - Starting application...
2025-11-09 02:34:18 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:18 - main - INFO - Application started successfully
2025-11-09 02:34:18 - main - INFO - Starting application...
2025-11-09 02:34:20 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:20 - main - INFO - Application started successfully
2025-11-09 02:34:20 - main - INFO - Starting application...
2025-11-09 02:34:22 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:22 - main - INFO - Application started successfully
2025-11-09 02:34:23 - main - INFO - Shutting down application...
2025-11-09 02:34:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:34:23 - main - INFO - Application shut down
2025-11-09 02:34:23 - main - INFO - Starting application...
2025-11-09 02:34:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:25 - main - INFO - Application started successfully
2025-11-09 02:34:35 - main - INFO - Shutting down application...
2025-11-09 02:34:35 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:34:35 - main - INFO - Application shut down
2025-11-09 02:34:35 - main - INFO - Starting application...
2025-11-09 02:34:37 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:37 - main - INFO - Application started successfully
2025-11-09 02:34:43 - main - INFO - Shutting down application...
2025-11-09 02:34:43 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:34:43 - main - INFO - Application shut down
2025-11-09 02:34:43 - main - INFO - Starting application...
2025-11-09 02:34:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:45 - main - INFO - Application started successfully
2025-11-09 02:34:45 - main - INFO - Shutting down application...
2025-11-09 02:34:45 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:34:45 - main - INFO - Application shut down
2025-11-09 02:34:46 - main - INFO - Starting application...
2025-11-09 02:34:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:47 - main - INFO - Application started successfully
2025-11-09 02:34:48 - main - INFO - Starting application...
2025-11-09 02:34:49 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:49 - main - INFO - Application started successfully
2025-11-09 02:34:50 - main - INFO - Starting application...
2025-11-09 02:34:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:34:51 - main - INFO - Application started successfully
2025-11-09 02:34:58 - main - INFO - Shutting down application...
2025-11-09 02:34:59 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:34:59 - main - INFO - Application shut down
2025-11-09 02:34:59 - main - INFO - Starting application...
2025-11-09 02:35:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:35:01 - main - INFO - Application started successfully
2025-11-09 02:35:08 - main - INFO - Shutting down application...
2025-11-09 02:35:08 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:35:08 - main - INFO - Application shut down
2025-11-09 02:35:08 - main - INFO - Starting application...
2025-11-09 02:35:10 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:35:10 - main - INFO - Application started successfully
2025-11-09 02:36:15 - main - INFO - Shutting down application...
2025-11-09 02:36:16 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:36:16 - main - INFO - Application shut down
2025-11-09 02:36:16 - main - INFO - Starting application...
2025-11-09 02:36:18 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:36:18 - main - INFO - Application started successfully
2025-11-09 02:53:31 - main - INFO - Shutting down application...
2025-11-09 02:53:32 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:53:32 - main - INFO - Application shut down
2025-11-09 02:53:32 - main - INFO - Starting application...
2025-11-09 02:53:34 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:34 - main - INFO - Application started successfully
2025-11-09 02:53:34 - main - INFO - Starting application...
2025-11-09 02:53:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:36 - main - INFO - Application started successfully
2025-11-09 02:53:37 - main - INFO - Shutting down application...
2025-11-09 02:53:37 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:53:37 - main - INFO - Application shut down
2025-11-09 02:53:38 - main - INFO - Starting application...
2025-11-09 02:53:39 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:39 - main - INFO - Application started successfully
2025-11-09 02:53:40 - main - INFO - Starting application...
2025-11-09 02:53:41 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:41 - main - INFO - Application started successfully
2025-11-09 02:53:42 - main - INFO - Shutting down application...
2025-11-09 02:53:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:53:42 - main - INFO - Application shut down
2025-11-09 02:53:43 - main - INFO - Starting application...
2025-11-09 02:53:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:44 - main - INFO - Application started successfully
2025-11-09 02:53:46 - main - INFO - Shutting down application...
2025-11-09 02:53:46 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:53:46 - main - INFO - Application shut down
2025-11-09 02:53:46 - main - INFO - Starting application...
2025-11-09 02:53:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:48 - main - INFO - Application started successfully
2025-11-09 02:53:52 - main - INFO - Shutting down application...
2025-11-09 02:53:52 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:53:52 - main - INFO - Application shut down
2025-11-09 02:53:52 - main - INFO - Starting application...
2025-11-09 02:53:54 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:54 - main - INFO - Application started successfully
2025-11-09 02:53:54 - main - INFO - Starting application...
2025-11-09 02:53:56 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:56 - main - INFO - Application started successfully
2025-11-09 02:53:56 - main - INFO - Starting application...
2025-11-09 02:53:58 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:53:58 - main - INFO - Application started successfully
2025-11-09 02:53:59 - main - INFO - Shutting down application...
2025-11-09 02:53:59 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:53:59 - main - INFO - Application shut down
2025-11-09 02:54:00 - main - INFO - Starting application...
2025-11-09 02:54:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:01 - main - INFO - Application started successfully
2025-11-09 02:54:05 - main - INFO - Shutting down application...
2025-11-09 02:54:05 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:54:05 - main - INFO - Application shut down
2025-11-09 02:54:05 - main - INFO - Starting application...
2025-11-09 02:54:07 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:07 - main - INFO - Application started successfully
2025-11-09 02:54:07 - main - INFO - Starting application...
2025-11-09 02:54:09 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:09 - main - INFO - Application started successfully
2025-11-09 02:54:09 - main - INFO - Starting application...
2025-11-09 02:54:11 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:11 - main - INFO - Application started successfully
2025-11-09 02:54:21 - main - INFO - Shutting down application...
2025-11-09 02:54:22 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:54:22 - main - INFO - Application shut down
2025-11-09 02:54:22 - main - INFO - Starting application...
2025-11-09 02:54:23 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:23 - main - INFO - Application started successfully
2025-11-09 02:54:35 - main - INFO - Shutting down application...
2025-11-09 02:54:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:54:36 - main - INFO - Application shut down
2025-11-09 02:54:36 - main - INFO - Starting application...
2025-11-09 02:54:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:38 - main - INFO - Application started successfully
2025-11-09 02:54:43 - main - INFO - Shutting down application...
2025-11-09 02:54:43 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:54:43 - main - INFO - Application shut down
2025-11-09 02:54:44 - main - INFO - Starting application...
2025-11-09 02:54:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:54:45 - main - INFO - Application started successfully
2025-11-09 02:55:01 - main - INFO - Shutting down application...
2025-11-09 02:55:01 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:55:01 - main - INFO - Application shut down
2025-11-09 02:55:02 - main - INFO - Starting application...
2025-11-09 02:55:04 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:55:04 - main - INFO - Application started successfully
2025-11-09 02:55:23 - main - INFO - Shutting down application...
2025-11-09 02:55:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:55:23 - main - INFO - Application shut down
2025-11-09 02:55:24 - main - INFO - Starting application...
2025-11-09 02:55:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:55:25 - main - INFO - Application started successfully
2025-11-09 02:55:35 - main - INFO - Shutting down application...
2025-11-09 02:55:35 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:55:35 - main - INFO - Application shut down
2025-11-09 02:55:36 - main - INFO - Starting application...
2025-11-09 02:55:37 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:55:37 - main - INFO - Application started successfully
2025-11-09 02:56:36 - main - INFO - Shutting down application...
2025-11-09 02:56:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 02:56:36 - main - INFO - Application shut down
2025-11-09 02:56:36 - main - INFO - Starting application...
2025-11-09 02:56:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 02:56:38 - main - INFO - Application started successfully
2025-11-09 03:02:39 - main - INFO - Shutting down application...
2025-11-09 03:02:40 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:02:40 - main - INFO - Application shut down
2025-11-09 03:02:40 - main - INFO - Starting application...
2025-11-09 03:02:42 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:02:42 - main - INFO - Application started successfully
2025-11-09 03:02:42 - main - INFO - Shutting down application...
2025-11-09 03:02:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:02:42 - main - INFO - Application shut down
2025-11-09 03:02:43 - main - INFO - Starting application...
2025-11-09 03:02:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:02:44 - main - INFO - Application started successfully
2025-11-09 03:02:45 - main - INFO - Starting application...
2025-11-09 03:02:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:02:46 - main - INFO - Application started successfully
2025-11-09 03:02:47 - main - INFO - Starting application...
2025-11-09 03:02:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:02:48 - main - INFO - Application started successfully
2025-11-09 03:02:49 - main - INFO - Shutting down application...
2025-11-09 03:02:49 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:02:49 - main - INFO - Application shut down
2025-11-09 03:02:49 - main - INFO - Starting application...
2025-11-09 03:02:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:02:51 - main - INFO - Application started successfully
2025-11-09 03:02:56 - main - INFO - Shutting down application...
2025-11-09 03:02:57 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:02:57 - main - INFO - Application shut down
2025-11-09 03:02:57 - main - INFO - Starting application...
2025-11-09 03:02:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:02:59 - main - INFO - Application started successfully
2025-11-09 03:03:10 - main - INFO - Shutting down application...
2025-11-09 03:03:10 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:03:10 - main - INFO - Application shut down
2025-11-09 03:03:11 - main - INFO - Starting application...
2025-11-09 03:03:12 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:03:12 - main - INFO - Application started successfully
2025-11-09 03:03:21 - main - INFO - Shutting down application...
2025-11-09 03:03:21 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:03:21 - main - INFO - Application shut down
2025-11-09 03:03:21 - main - INFO - Starting application...
2025-11-09 03:03:23 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:03:23 - main - INFO - Application started successfully
2025-11-09 03:26:54 - main - INFO - Shutting down application...
2025-11-09 03:26:54 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:26:54 - main - INFO - Application shut down
2025-11-09 03:26:54 - main - INFO - Starting application...
2025-11-09 03:26:56 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:26:56 - main - INFO - Application started successfully
2025-11-09 03:27:30 - main - INFO - Shutting down application...
2025-11-09 03:27:30 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:27:30 - main - INFO - Application shut down
2025-11-09 03:27:31 - main - INFO - Starting application...
2025-11-09 03:27:32 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:27:32 - main - INFO - Application started successfully
2025-11-09 03:27:33 - main - INFO - Starting application...
2025-11-09 03:27:34 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:27:34 - main - INFO - Application started successfully
2025-11-09 03:27:35 - main - INFO - Starting application...
2025-11-09 03:27:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:27:36 - main - INFO - Application started successfully
2025-11-09 03:27:42 - main - INFO - Shutting down application...
2025-11-09 03:27:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:27:42 - main - INFO - Application shut down
2025-11-09 03:27:42 - main - INFO - Starting application...
2025-11-09 03:27:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:27:44 - main - INFO - Application started successfully
2025-11-09 03:28:24 - main - INFO - Shutting down application...
2025-11-09 03:28:24 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:28:24 - main - INFO - Application shut down
2025-11-09 03:28:24 - main - INFO - Starting application...
2025-11-09 03:28:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:28:26 - main - INFO - Application started successfully
2025-11-09 03:28:40 - main - INFO - Shutting down application...
2025-11-09 03:28:40 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:28:40 - main - INFO - Application shut down
2025-11-09 03:28:40 - main - INFO - Starting application...
2025-11-09 03:28:42 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:28:42 - main - INFO - Application started successfully
2025-11-09 03:30:12 - main - INFO - Shutting down application...
2025-11-09 03:30:12 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:30:12 - main - INFO - Application shut down
2025-11-09 03:30:13 - main - INFO - Starting application...
2025-11-09 03:30:15 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:15 - main - INFO - Application started successfully
2025-11-09 03:30:24 - main - INFO - Shutting down application...
2025-11-09 03:30:24 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:30:24 - main - INFO - Application shut down
2025-11-09 03:30:24 - main - INFO - Starting application...
2025-11-09 03:30:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:26 - main - INFO - Application started successfully
2025-11-09 03:30:26 - main - INFO - Starting application...
2025-11-09 03:30:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:28 - main - INFO - Application started successfully
2025-11-09 03:30:28 - main - INFO - Starting application...
2025-11-09 03:30:30 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:30 - main - INFO - Application started successfully
2025-11-09 03:30:30 - main - INFO - Starting application...
2025-11-09 03:30:32 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:32 - main - INFO - Application started successfully
2025-11-09 03:30:32 - main - INFO - Starting application...
2025-11-09 03:30:34 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:34 - main - INFO - Application started successfully
2025-11-09 03:30:34 - main - INFO - Starting application...
2025-11-09 03:30:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:36 - main - INFO - Application started successfully
2025-11-09 03:30:36 - main - INFO - Shutting down application...
2025-11-09 03:30:37 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:30:37 - main - INFO - Application shut down
2025-11-09 03:30:37 - main - INFO - Starting application...
2025-11-09 03:30:39 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:39 - main - INFO - Application started successfully
2025-11-09 03:30:45 - main - INFO - Shutting down application...
2025-11-09 03:30:46 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:30:46 - main - INFO - Application shut down
2025-11-09 03:30:46 - main - INFO - Starting application...
2025-11-09 03:30:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:48 - main - INFO - Application started successfully
2025-11-09 03:30:48 - main - INFO - Starting application...
2025-11-09 03:30:50 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:30:50 - main - INFO - Application started successfully
2025-11-09 03:31:07 - main - INFO - Shutting down application...
2025-11-09 03:31:08 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:31:08 - main - INFO - Application shut down
2025-11-09 03:31:08 - main - INFO - Starting application...
2025-11-09 03:31:10 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:31:10 - main - INFO - Application started successfully
2025-11-09 03:31:17 - main - INFO - Shutting down application...
2025-11-09 03:31:17 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:31:17 - main - INFO - Application shut down
2025-11-09 03:31:17 - main - INFO - Starting application...
2025-11-09 03:31:19 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:31:19 - main - INFO - Application started successfully
2025-11-09 03:31:26 - main - INFO - Shutting down application...
2025-11-09 03:31:26 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:31:26 - main - INFO - Application shut down
2025-11-09 03:31:26 - main - INFO - Starting application...
2025-11-09 03:31:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:31:28 - main - INFO - Application started successfully
2025-11-09 03:32:47 - pesapal.client - INFO - OAuth token obtained successfully
2025-11-09 03:32:47 - pesapal.client - INFO - Submitting payment order: TX-1234 - 1000.0 TZS
2025-11-09 03:32:47 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-1234, tracking_id=a6bcc4ba-e96e-451b-a036-db1cddf577ad
2025-11-09 03:44:29 - main - INFO - Shutting down application...
2025-11-09 03:44:29 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:44:29 - main - INFO - Application shut down
2025-11-09 03:44:30 - main - INFO - Starting application...
2025-11-09 03:44:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:44:31 - main - INFO - Application started successfully
2025-11-09 03:44:33 - main - INFO - Shutting down application...
2025-11-09 03:44:33 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:44:33 - main - INFO - Application shut down
2025-11-09 03:44:33 - main - INFO - Starting application...
2025-11-09 03:44:35 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:44:35 - main - INFO - Application started successfully
2025-11-09 03:44:41 - main - INFO - Shutting down application...
2025-11-09 03:44:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:44:41 - main - INFO - Application shut down
2025-11-09 03:44:42 - main - INFO - Starting application...
2025-11-09 03:44:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:44:43 - main - INFO - Application started successfully
2025-11-09 03:45:04 - main - INFO - Shutting down application...
2025-11-09 03:45:04 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:45:04 - main - INFO - Application shut down
2025-11-09 03:45:04 - main - INFO - Starting application...
2025-11-09 03:45:06 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:45:06 - main - INFO - Application started successfully
2025-11-09 03:45:11 - main - INFO - Shutting down application...
2025-11-09 03:45:11 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:45:11 - main - INFO - Application shut down
2025-11-09 03:45:12 - main - INFO - Starting application...
2025-11-09 03:45:13 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:45:13 - main - INFO - Application started successfully
2025-11-09 03:45:26 - main - INFO - Shutting down application...
2025-11-09 03:45:26 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:45:26 - main - INFO - Application shut down
2025-11-09 03:45:27 - main - INFO - Starting application...
2025-11-09 03:45:29 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:45:29 - main - INFO - Application started successfully
2025-11-09 03:45:29 - main - INFO - Shutting down application...
2025-11-09 03:45:29 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:45:29 - main - INFO - Application shut down
2025-11-09 03:45:30 - main - INFO - Starting application...
2025-11-09 03:45:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:45:31 - main - INFO - Application started successfully
2025-11-09 03:45:41 - main - INFO - Shutting down application...
2025-11-09 03:45:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:45:41 - main - INFO - Application shut down
2025-11-09 03:45:41 - main - INFO - Starting application...
2025-11-09 03:45:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:45:43 - main - INFO - Application started successfully
2025-11-09 03:46:01 - main - INFO - Shutting down application...
2025-11-09 03:46:01 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:46:01 - main - INFO - Application shut down
2025-11-09 03:46:02 - main - INFO - Starting application...
2025-11-09 03:46:03 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:46:03 - main - INFO - Application started successfully
2025-11-09 03:46:15 - main - INFO - Shutting down application...
2025-11-09 03:46:16 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:46:16 - main - INFO - Application shut down
2025-11-09 03:46:16 - main - INFO - Starting application...
2025-11-09 03:46:18 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:46:18 - main - INFO - Application started successfully
2025-11-09 03:51:18 - main - INFO - Shutting down application...
2025-11-09 03:51:18 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:51:18 - main - INFO - Application shut down
2025-11-09 03:51:18 - main - INFO - Starting application...
2025-11-09 03:51:20 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:51:20 - main - INFO - Application started successfully
2025-11-09 03:51:20 - main - INFO - Shutting down application...
2025-11-09 03:51:21 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:51:21 - main - INFO - Application shut down
2025-11-09 03:51:21 - main - INFO - Starting application...
2025-11-09 03:51:22 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:51:22 - main - INFO - Application started successfully
2025-11-09 03:51:23 - main - INFO - Shutting down application...
2025-11-09 03:51:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:51:23 - main - INFO - Application shut down
2025-11-09 03:51:23 - main - INFO - Starting application...
2025-11-09 03:51:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:51:25 - main - INFO - Application started successfully
2025-11-09 03:51:33 - main - INFO - Shutting down application...
2025-11-09 03:51:34 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:51:34 - main - INFO - Application shut down
2025-11-09 03:51:34 - main - INFO - Starting application...
2025-11-09 03:51:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:51:36 - main - INFO - Application started successfully
2025-11-09 03:58:57 - main - INFO - Shutting down application...
2025-11-09 03:58:57 - app.database.db - INFO - MongoDB disconnected
2025-11-09 03:58:57 - main - INFO - Application shut down
2025-11-09 03:58:57 - main - INFO - Starting application...
2025-11-09 03:58:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 03:58:59 - main - INFO - Application started successfully
2025-11-09 04:02:31 - main - INFO - Shutting down application...
2025-11-09 04:02:31 - app.database.db - INFO - MongoDB disconnected
2025-11-09 04:02:31 - main - INFO - Application shut down
2025-11-09 04:02:31 - main - INFO - Starting application...
2025-11-09 04:02:33 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 04:02:33 - main - INFO - Application started successfully
2025-11-09 04:02:33 - main - INFO - Starting application...
2025-11-09 04:02:35 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 04:02:35 - main - INFO - Application started successfully
2025-11-09 04:02:35 - main - INFO - Shutting down application...
2025-11-09 04:02:35 - app.database.db - INFO - MongoDB disconnected
2025-11-09 04:02:35 - main - INFO - Application shut down
2025-11-09 04:02:36 - main - INFO - Starting application...
2025-11-09 04:02:37 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 04:02:37 - main - INFO - Application started successfully
2025-11-09 04:02:40 - main - INFO - Shutting down application...
2025-11-09 04:02:40 - app.database.db - INFO - MongoDB disconnected
2025-11-09 04:02:40 - main - INFO - Application shut down
2025-11-09 04:02:41 - main - INFO - Starting application...
2025-11-09 04:02:42 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 04:02:42 - main - INFO - Application started successfully
2025-11-09 04:02:51 - main - INFO - Shutting down application...
2025-11-09 04:02:51 - app.database.db - INFO - MongoDB disconnected
2025-11-09 04:02:51 - main - INFO - Application shut down
2025-11-09 04:02:51 - main - INFO - Starting application...
2025-11-09 04:02:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 04:02:53 - main - INFO - Application started successfully
2025-11-09 04:03:02 - main - INFO - Shutting down application...
2025-11-09 04:03:02 - app.database.db - INFO - MongoDB disconnected
2025-11-09 04:03:02 - main - INFO - Application shut down
2025-11-09 04:03:02 - main - INFO - Starting application...
2025-11-09 04:03:04 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 04:03:04 - main - INFO - Application started successfully
2025-11-09 16:07:31 - main - INFO - Starting application...
2025-11-09 16:07:32 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 16:07:32 - main - INFO - Application started successfully
2025-11-09 16:11:18 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:11:18 - pesapal.client - INFO - Submitting payment order: TX-testing1 - 1000.0 TZS
2025-11-09 16:11:18 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing1, tracking_id=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d
2025-11-09 16:23:40 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:23:40 - pesapal.client - INFO - Submitting payment order: TX-testing2 - 1000.0 TZS
2025-11-09 16:23:41 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing2, tracking_id=8af53716-dd0f-4396-9c4a-db1c2e8c4642
2025-11-09 16:27:55 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:27:55 - pesapal.client - INFO - Submitting payment order: TX-testing3 - 1000.0 TZS
2025-11-09 16:27:55 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing3, tracking_id=4dabc4c9-6475-43e7-8a78-db1c25315042
2025-11-09 16:41:56 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:41:56 - pesapal.client - INFO - Submitting payment order: TX-testing1 - 1000.0 TZS
2025-11-09 16:41:56 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing1, tracking_id=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d
2025-11-09 16:42:42 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:42:42 - pesapal.client - INFO - Submitting payment order: TX-testing2 - 1000.0 TZS
2025-11-09 16:42:43 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing2, tracking_id=8af53716-dd0f-4396-9c4a-db1c2e8c4642
2025-11-09 16:45:18 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:45:18 - pesapal.client - INFO - Submitting payment order: TX-testing3 - 1000.0 TZS
2025-11-09 16:45:18 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing3, tracking_id=4dabc4c9-6475-43e7-8a78-db1c25315042
2025-11-09 16:51:03 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:51:03 - pesapal.client - INFO - Submitting payment order: TX-testing4 - 1000.0 TZS
2025-11-09 16:51:03 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing4, tracking_id=987d115b-c962-48cc-add7-db1c33532d24
2025-11-09 16:56:05 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 16:56:05 - pesapal.client - INFO - Submitting payment order: TX-testing5 - 1000.0 TZS
2025-11-09 16:56:06 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing5, tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd
2025-11-09 17:03:15 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:03:15 - pesapal.client - INFO - Submitting payment order: TX-testing6 - 1000.0 TZS
2025-11-09 17:03:16 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing6, tracking_id=e412b1e4-3875-4a8b-ab66-db1c4da0d2f5
2025-11-09 17:07:04 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:07:04 - pesapal.client - INFO - Submitting payment order: TX-testing7 - 1000.0 TZS
2025-11-09 17:07:04 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing7, tracking_id=b83cab81-0ae3-4f11-adda-db1c7dd8efed
2025-11-09 17:09:29 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:09:29 - pesapal.client - INFO - Submitting payment order: TX-testing8 - 1000.0 TZS
2025-11-09 17:09:30 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing8, tracking_id=99cf5b9b-db3d-4f70-b139-db1c44633c82
2025-11-09 17:12:10 - main - INFO - Shutting down application...
2025-11-09 17:12:10 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:12:10 - main - INFO - Application shut down
2025-11-09 17:12:11 - main - INFO - Starting application...
2025-11-09 17:12:13 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:12:13 - main - INFO - Application started successfully
2025-11-09 17:13:00 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:13:00 - pesapal.client - INFO - Submitting payment order: TX-testing1 - 1000.0 TZS
2025-11-09 17:13:01 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing1, tracking_id=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d
2025-11-09 17:14:34 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:14:34 - pesapal.client - INFO - Submitting payment order: TX-testing2 - 1000.0 TZS
2025-11-09 17:14:35 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing2, tracking_id=8af53716-dd0f-4396-9c4a-db1c2e8c4642
2025-11-09 17:31:42 - main - INFO - Shutting down application...
2025-11-09 17:31:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:31:42 - main - INFO - Application shut down
2025-11-09 17:31:42 - main - INFO - Starting application...
2025-11-09 17:31:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:31:44 - main - INFO - Application started successfully
2025-11-09 17:31:44 - main - INFO - Starting application...
2025-11-09 17:31:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:31:46 - main - INFO - Application started successfully
2025-11-09 17:31:47 - main - INFO - Shutting down application...
2025-11-09 17:31:48 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:31:48 - main - INFO - Application shut down
2025-11-09 17:31:48 - main - INFO - Starting application...
2025-11-09 17:31:50 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:31:50 - main - INFO - Application started successfully
2025-11-09 17:31:53 - main - INFO - Shutting down application...
2025-11-09 17:31:53 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:31:53 - main - INFO - Application shut down
2025-11-09 17:31:53 - main - INFO - Starting application...
2025-11-09 17:31:55 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:31:55 - main - INFO - Application started successfully
2025-11-09 17:31:58 - main - INFO - Shutting down application...
2025-11-09 17:31:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:31:58 - main - INFO - Application shut down
2025-11-09 17:31:58 - main - INFO - Starting application...
2025-11-09 17:32:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:32:00 - main - INFO - Application started successfully
2025-11-09 17:32:00 - main - INFO - Shutting down application...
2025-11-09 17:32:01 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:32:01 - main - INFO - Application shut down
2025-11-09 17:32:01 - main - INFO - Starting application...
2025-11-09 17:32:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:32:02 - main - INFO - Application started successfully
2025-11-09 17:32:24 - main - INFO - Shutting down application...
2025-11-09 17:32:24 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:32:24 - main - INFO - Application shut down
2025-11-09 17:32:25 - main - INFO - Starting application...
2025-11-09 17:32:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:32:26 - main - INFO - Application started successfully
2025-11-09 17:32:39 - main - INFO - Shutting down application...
2025-11-09 17:32:39 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:32:39 - main - INFO - Application shut down
2025-11-09 17:32:39 - main - INFO - Starting application...
2025-11-09 17:32:41 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:32:41 - main - INFO - Application started successfully
2025-11-09 17:34:08 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:34:08 - pesapal.client - INFO - Submitting payment order: TX-testing3 - 1000.0 TZS
2025-11-09 17:34:09 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing3, tracking_id=4dabc4c9-6475-43e7-8a78-db1c25315042
2025-11-09 17:41:20 - main - INFO - Shutting down application...
2025-11-09 17:41:20 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:41:20 - main - INFO - Application shut down
2025-11-09 17:41:21 - main - INFO - Starting application...
2025-11-09 17:41:22 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:41:22 - main - INFO - Application started successfully
2025-11-09 17:41:40 - main - INFO - Shutting down application...
2025-11-09 17:41:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:41:41 - main - INFO - Application shut down
2025-11-09 17:41:41 - main - INFO - Starting application...
2025-11-09 17:41:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:41:43 - main - INFO - Application started successfully
2025-11-09 17:41:43 - main - INFO - Starting application...
2025-11-09 17:41:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:41:45 - main - INFO - Application started successfully
2025-11-09 17:41:50 - main - INFO - Shutting down application...
2025-11-09 17:41:50 - app.database.db - INFO - MongoDB disconnected
2025-11-09 17:41:50 - main - INFO - Application shut down
2025-11-09 17:41:50 - main - INFO - Starting application...
2025-11-09 17:41:52 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 17:41:52 - main - INFO - Application started successfully
2025-11-09 17:44:58 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:44:58 - pesapal.client - INFO - Submitting payment order: TX-testing4 - 2000.0 KES
2025-11-09 17:44:58 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing4, tracking_id=987d115b-c962-48cc-add7-db1c33532d24
2025-11-09 17:48:07 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:48:07 - pesapal.client - INFO - Submitting payment order: TX-testing5 - 2000.0 TZS
2025-11-09 17:48:07 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-testing5, tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd
2025-11-09 17:56:57 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:56:57 - pesapal.client - INFO - Raw Pesapal status response keys: ['payment_method', 'amount', 'created_date', 'confirmation_code', 'order_tracking_id', 'payment_status_description', 'description', 'message', 'payment_account', 'call_back_url', 'status_code', 'merchant_reference', 'account_number', 'payment_status_code', 'currency', 'error', 'status']
2025-11-09 17:56:57 - pesapal.client - INFO - Payment method extracted: MasterCard
2025-11-09 17:56:57 - app.services.payment_service - INFO - Payment status from Pesapal: status_code=1 (0=INVALID, 1=COMPLETED, 2=FAILED, 3=REVERSED), payment_status_description=Completed, payment_method=MasterCard, confirmation_code=7626999206576973904606, mapped_status=200
2025-11-09 17:56:58 - app.services.payment_service - ERROR - Unexpected error checking payment status for order TX-testing5: Invalid document {'q': {'order_id': 'TX-testing5'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 14, 56, 57, 838757), 'provider_response': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'merchant_reference': 'TX-testing5', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'status': '200', 'error': {'error_type': None, 'code': None, 'message': None}, 'message': 'Request processed successfully', 'payment_method': 'MasterCard', 'amount': Decimal('0.4'), 'created_date': datetime.datetime(2025, 11, 9, 17, 52, 2, 210000), 'confirmation_code': '7626999206576973904606', 'payment_status_description': 'Completed', 'description': 'Transaction successfully processed.', 'payment_account': '520000XXXXXX0007', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd&OrderMerchantReference=TX-testing5', 'status_code': 1, 'currency': 'USD'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 48, 7, 725000)}], 'status': '200', 'payment_state': 'COMPLETED', 'payment_method': 'MasterCard', 'confirmation_code': '7626999206576973904606'}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('0.4'), of type: <class 'decimal.Decimal'>
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/payment_service.py", line 347, in check_payment_status
    result = await self.repository.collection.update_one(
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1336, in update_one
    self._update_retryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1118, in _update_retryable
    return self._database.client._retryable_write(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2082, in _retryable_write
    return self._retry_with_session(retryable, func, s, bulk, operation, operation_id)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 1968, in _retry_with_session
    return self._retry_internal(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2003, in _retry_internal
    return _ClientConnectionRetryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2765, in run
    return self._read() if self._is_read else self._write()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2897, in _write
    return self._func(self._session, conn, self._retryable)  # type: ignore
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1098, in _update
    return self._update(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1049, in _update
    conn.command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/helpers.py", line 47, in inner
    return func(*args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 441, in command
    self._raise_connection_failure(error)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 413, in command
    return command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/network.py", line 148, in command
    request_id, msg, size, max_doc_size = message._op_msg(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/message.py", line 419, in _op_msg
    return _op_msg_uncompressed(flags, command, identifier, docs, opts)
bson.errors.InvalidDocument: Invalid document {'q': {'order_id': 'TX-testing5'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 14, 56, 57, 838757), 'provider_response': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'merchant_reference': 'TX-testing5', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'status': '200', 'error': {'error_type': None, 'code': None, 'message': None}, 'message': 'Request processed successfully', 'payment_method': 'MasterCard', 'amount': Decimal('0.4'), 'created_date': datetime.datetime(2025, 11, 9, 17, 52, 2, 210000), 'confirmation_code': '7626999206576973904606', 'payment_status_description': 'Completed', 'description': 'Transaction successfully processed.', 'payment_account': '520000XXXXXX0007', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd&OrderMerchantReference=TX-testing5', 'status_code': 1, 'currency': 'USD'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 48, 7, 725000)}], 'status': '200', 'payment_state': 'COMPLETED', 'payment_method': 'MasterCard', 'confirmation_code': '7626999206576973904606'}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('0.4'), of type: <class 'decimal.Decimal'>
2025-11-09 17:58:20 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 17:58:21 - pesapal.client - INFO - Raw Pesapal status response keys: ['payment_method', 'amount', 'created_date', 'confirmation_code', 'order_tracking_id', 'payment_status_description', 'description', 'message', 'payment_account', 'call_back_url', 'status_code', 'merchant_reference', 'account_number', 'payment_status_code', 'currency', 'error', 'status']
2025-11-09 17:58:21 - pesapal.client - INFO - Payment method extracted: MasterCard
2025-11-09 17:58:21 - app.services.payment_service - INFO - Payment status from Pesapal: status_code=1 (0=INVALID, 1=COMPLETED, 2=FAILED, 3=REVERSED), payment_status_description=Completed, payment_method=MasterCard, confirmation_code=7626999206576973904606, mapped_status=200
2025-11-09 17:58:21 - app.services.payment_service - ERROR - Unexpected error checking payment status for order TX-testing5: Invalid document {'q': {'order_id': 'TX-testing5'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 14, 58, 21, 325104), 'provider_response': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'merchant_reference': 'TX-testing5', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'status': '200', 'error': {'error_type': None, 'code': None, 'message': None}, 'message': 'Request processed successfully', 'payment_method': 'MasterCard', 'amount': Decimal('0.4'), 'created_date': datetime.datetime(2025, 11, 9, 17, 52, 2, 210000), 'confirmation_code': '7626999206576973904606', 'payment_status_description': 'Completed', 'description': 'Transaction successfully processed.', 'payment_account': '520000XXXXXX0007', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd&OrderMerchantReference=TX-testing5', 'status_code': 1, 'currency': 'USD'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 48, 7, 725000)}], 'status': '200', 'payment_state': 'COMPLETED', 'payment_method': 'MasterCard', 'confirmation_code': '7626999206576973904606'}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('0.4'), of type: <class 'decimal.Decimal'>
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/payment_service.py", line 347, in check_payment_status
    result = await self.repository.collection.update_one(
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1336, in update_one
    self._update_retryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1118, in _update_retryable
    return self._database.client._retryable_write(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2082, in _retryable_write
    return self._retry_with_session(retryable, func, s, bulk, operation, operation_id)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 1968, in _retry_with_session
    return self._retry_internal(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2003, in _retry_internal
    return _ClientConnectionRetryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2765, in run
    return self._read() if self._is_read else self._write()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2897, in _write
    return self._func(self._session, conn, self._retryable)  # type: ignore
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1098, in _update
    return self._update(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1049, in _update
    conn.command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/helpers.py", line 47, in inner
    return func(*args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 441, in command
    self._raise_connection_failure(error)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 413, in command
    return command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/network.py", line 148, in command
    request_id, msg, size, max_doc_size = message._op_msg(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/message.py", line 419, in _op_msg
    return _op_msg_uncompressed(flags, command, identifier, docs, opts)
bson.errors.InvalidDocument: Invalid document {'q': {'order_id': 'TX-testing5'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 14, 58, 21, 325104), 'provider_response': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'merchant_reference': 'TX-testing5', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'status': '200', 'error': {'error_type': None, 'code': None, 'message': None}, 'message': 'Request processed successfully', 'payment_method': 'MasterCard', 'amount': Decimal('0.4'), 'created_date': datetime.datetime(2025, 11, 9, 17, 52, 2, 210000), 'confirmation_code': '7626999206576973904606', 'payment_status_description': 'Completed', 'description': 'Transaction successfully processed.', 'payment_account': '520000XXXXXX0007', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd&OrderMerchantReference=TX-testing5', 'status_code': 1, 'currency': 'USD'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 48, 7, 725000)}], 'status': '200', 'payment_state': 'COMPLETED', 'payment_method': 'MasterCard', 'confirmation_code': '7626999206576973904606'}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('0.4'), of type: <class 'decimal.Decimal'>
2025-11-09 18:03:38 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:03:38 - pesapal.client - INFO - Requesting refund for order: ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd
2025-11-09 18:03:39 - app.routers.payments - ERROR - Error processing refund: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/Transactions/RefundOrder'.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/payments.py", line 651, in refund_payment
    result = await client.refund_order(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 671, in refund_order
    response_data = await self._request("POST", ENDPOINT_REFUND, data=request_data, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/Transactions/RefundOrder'.
2025-11-09 18:04:00 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:04:00 - pesapal.client - INFO - Requesting refund for order: ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd
2025-11-09 18:04:00 - app.routers.payments - ERROR - Error processing refund: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/Transactions/RefundOrder'.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/payments.py", line 651, in refund_payment
    result = await client.refund_order(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 671, in refund_order
    response_data = await self._request("POST", ENDPOINT_REFUND, data=request_data, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/Transactions/RefundOrder'.
2025-11-09 18:04:40 - main - INFO - Shutting down application...
2025-11-09 18:04:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:04:41 - main - INFO - Application shut down
2025-11-09 18:04:42 - main - INFO - Starting application...
2025-11-09 18:04:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:04:43 - main - INFO - Application started successfully
2025-11-09 18:04:49 - main - INFO - Shutting down application...
2025-11-09 18:04:49 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:04:49 - main - INFO - Application shut down
2025-11-09 18:04:49 - main - INFO - Starting application...
2025-11-09 18:04:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:04:51 - main - INFO - Application started successfully
2025-11-09 18:07:43 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:07:43 - pesapal.client - INFO - Requesting refund for order: ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd
2025-11-09 18:07:43 - pesapal.client - INFO - Refund request submitted: {'error': {'error_type': 'invalid_request_error', 'code': 'invalid_api_request_parameters', 'message': 'Invalid API request.'}, 'status': '500'}
2025-11-09 18:08:36 - main - INFO - Shutting down application...
2025-11-09 18:08:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:08:36 - main - INFO - Application shut down
2025-11-09 18:08:36 - main - INFO - Starting application...
2025-11-09 18:08:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:08:38 - main - INFO - Application started successfully
2025-11-09 18:08:43 - main - INFO - Shutting down application...
2025-11-09 18:08:43 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:08:43 - main - INFO - Application shut down
2025-11-09 18:08:44 - main - INFO - Starting application...
2025-11-09 18:08:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:08:46 - main - INFO - Application started successfully
2025-11-09 18:08:53 - main - INFO - Shutting down application...
2025-11-09 18:08:53 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:08:53 - main - INFO - Application shut down
2025-11-09 18:08:54 - main - INFO - Starting application...
2025-11-09 18:08:55 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:08:55 - main - INFO - Application started successfully
2025-11-09 18:15:36 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:15:36 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000, username=john
2025-11-09 18:15:36 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:16:01 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:16:01 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:16:01 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:16:45 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:16:45 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=1000.00, username=john
2025-11-09 18:16:45 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:17:29 - main - INFO - Shutting down application...
2025-11-09 18:17:29 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:17:29 - main - INFO - Application shut down
2025-11-09 18:17:30 - main - INFO - Starting application...
2025-11-09 18:17:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:17:31 - main - INFO - Application started successfully
2025-11-09 18:18:20 - main - INFO - Shutting down application...
2025-11-09 18:18:20 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:18:20 - main - INFO - Application shut down
2025-11-09 18:18:21 - main - INFO - Starting application...
2025-11-09 18:18:23 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:18:23 - main - INFO - Application started successfully
2025-11-09 18:18:28 - main - INFO - Shutting down application...
2025-11-09 18:18:28 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:18:28 - main - INFO - Application shut down
2025-11-09 18:18:28 - main - INFO - Starting application...
2025-11-09 18:18:30 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:18:30 - main - INFO - Application started successfully
2025-11-09 18:18:54 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:18:54 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000, username=john
2025-11-09 18:18:54 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:19:42 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:19:42 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000, username=john
2025-11-09 18:19:42 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:20:24 - main - INFO - Shutting down application...
2025-11-09 18:20:25 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:20:25 - main - INFO - Application shut down
2025-11-09 18:20:25 - main - INFO - Starting application...
2025-11-09 18:20:27 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:20:27 - main - INFO - Application started successfully
2025-11-09 18:20:51 - main - INFO - Shutting down application...
2025-11-09 18:20:51 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:20:51 - main - INFO - Application shut down
2025-11-09 18:20:51 - main - INFO - Starting application...
2025-11-09 18:20:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:20:53 - main - INFO - Application started successfully
2025-11-09 18:20:56 - main - INFO - Shutting down application...
2025-11-09 18:20:57 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:20:57 - main - INFO - Application shut down
2025-11-09 18:20:57 - main - INFO - Starting application...
2025-11-09 18:20:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:20:59 - main - INFO - Application started successfully
2025-11-09 18:21:04 - main - INFO - Shutting down application...
2025-11-09 18:21:05 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:21:05 - main - INFO - Application shut down
2025-11-09 18:21:05 - main - INFO - Starting application...
2025-11-09 18:21:07 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:21:07 - main - INFO - Application started successfully
2025-11-09 18:21:14 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:21:15 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:21:15 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:21:15 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:21:20 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:21:21 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:21:21 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:21:22 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:21:26 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:21:28 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:21:28 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:21:28 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:22:20 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:22:22 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:22:22 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:22:22 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:22:36 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000.00, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:22:38 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:22:38 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:22:38 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:23:58 - main - INFO - Shutting down application...
2025-11-09 18:23:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:23:58 - main - INFO - Application shut down
2025-11-09 18:23:59 - main - INFO - Starting application...
2025-11-09 18:24:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:24:00 - main - INFO - Application started successfully
2025-11-09 18:24:01 - main - INFO - Starting application...
2025-11-09 18:24:04 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:24:04 - main - INFO - Application started successfully
2025-11-09 18:24:13 - main - INFO - Shutting down application...
2025-11-09 18:24:13 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:24:13 - main - INFO - Application shut down
2025-11-09 18:24:13 - main - INFO - Starting application...
2025-11-09 18:24:15 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:24:15 - main - INFO - Application started successfully
2025-11-09 18:24:19 - main - INFO - Shutting down application...
2025-11-09 18:24:19 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:24:19 - main - INFO - Application shut down
2025-11-09 18:24:20 - main - INFO - Starting application...
2025-11-09 18:24:21 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:24:21 - main - INFO - Application started successfully
2025-11-09 18:24:47 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000.00, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:24:48 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:24:48 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:24:48 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:25:02 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000.00, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:25:04 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:25:04 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:25:04 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:25:45 - app.routers.payments - INFO - Refund request: order_tracking_id=ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd, payment_amount=2000, refund_amount=2000, currency=TZS, confirmation_code=7626999206576973904606
2025-11-09 18:25:46 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:25:46 - pesapal.client - INFO - Requesting refund: confirmation_code=7626999206576973904606, amount=2000.00, username=john
2025-11-09 18:25:47 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Invalid amount provided. Please check your transaction details'}
2025-11-09 18:26:45 - main - INFO - Shutting down application...
2025-11-09 18:26:45 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:26:45 - main - INFO - Application shut down
2025-11-09 18:26:45 - main - INFO - Starting application...
2025-11-09 18:26:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:26:47 - main - INFO - Application started successfully
2025-11-09 18:26:48 - main - INFO - Shutting down application...
2025-11-09 18:26:48 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:26:48 - main - INFO - Application shut down
2025-11-09 18:26:48 - main - INFO - Starting application...
2025-11-09 18:26:50 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:26:50 - main - INFO - Application started successfully
2025-11-09 18:26:59 - main - INFO - Shutting down application...
2025-11-09 18:26:59 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:26:59 - main - INFO - Application shut down
2025-11-09 18:26:59 - main - INFO - Starting application...
2025-11-09 18:27:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:27:01 - main - INFO - Application started successfully
2025-11-09 18:27:04 - main - INFO - Shutting down application...
2025-11-09 18:27:04 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:27:04 - main - INFO - Application shut down
2025-11-09 18:27:05 - main - INFO - Starting application...
2025-11-09 18:27:06 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:27:06 - main - INFO - Application started successfully
2025-11-09 18:28:40 - main - INFO - Shutting down application...
2025-11-09 18:28:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:28:41 - main - INFO - Application shut down
2025-11-09 18:28:41 - main - INFO - Starting application...
2025-11-09 18:28:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:28:43 - main - INFO - Application started successfully
2025-11-09 18:29:05 - main - INFO - Shutting down application...
2025-11-09 18:29:05 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:29:05 - main - INFO - Application shut down
2025-11-09 18:29:05 - main - INFO - Starting application...
2025-11-09 18:29:07 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:29:07 - main - INFO - Application started successfully
2025-11-09 18:29:16 - main - INFO - Shutting down application...
2025-11-09 18:29:16 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:29:16 - main - INFO - Application shut down
2025-11-09 18:29:16 - main - INFO - Starting application...
2025-11-09 18:29:18 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:29:18 - main - INFO - Application started successfully
2025-11-09 18:29:25 - app.routers.payments - INFO - Payment missing confirmation_code, fetching latest status from Pesapal: ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d
2025-11-09 18:29:27 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:29:27 - pesapal.client - INFO - Raw Pesapal status response keys: ['payment_method', 'amount', 'created_date', 'confirmation_code', 'order_tracking_id', 'payment_status_description', 'description', 'message', 'payment_account', 'call_back_url', 'status_code', 'merchant_reference', 'account_number', 'payment_status_code', 'currency', 'error', 'status']
2025-11-09 18:29:27 - pesapal.client - INFO - Payment method extracted: 
2025-11-09 18:29:27 - app.services.payment_service - INFO - Payment status from Pesapal: status_code=0 (0=INVALID, 1=COMPLETED, 2=FAILED, 3=REVERSED), payment_status_description=INVALID, payment_method=, confirmation_code=, mapped_status=INVALID
2025-11-09 18:29:28 - app.services.payment_service - ERROR - Unexpected error checking payment status for order TX-testing1: Invalid document {'q': {'order_id': 'TX-testing1'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 15, 29, 27, 837882), 'provider_response': {'order_tracking_id': 'ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'merchant_reference': 'TX-testing1', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'status': '500', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d&OrderMerchantReference=TX-testing1'}, 'message': 'Request processed successfully', 'payment_method': '', 'amount': Decimal('1000.0'), 'created_date': datetime.datetime(2025, 11, 9, 16, 11, 18, 510000), 'confirmation_code': '', 'payment_status_description': 'INVALID', 'description': None, 'payment_account': '', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d&OrderMerchantReference=TX-testing1', 'status_code': 0, 'currency': 'TZS'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 13, 1, 249000)}, {'old_status': '200', 'new_status': 'INVALID', 'source': 'MANUAL_CHECK', 'reason': 'INVALID', 'metadata': {'payment_method': '', 'confirmation_code': '', 'pesapal_status_description': 'INVALID', 'message': 'Request processed successfully'}, 'timestamp': datetime.datetime(2025, 11, 9, 15, 29, 27, 838094)}], 'status': 'INVALID', 'payment_state': 'FAILED', 'payment_method': '', 'confirmation_code': ''}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('1000.0'), of type: <class 'decimal.Decimal'>
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/payment_service.py", line 347, in check_payment_status
    result = await self.repository.collection.update_one(
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1336, in update_one
    self._update_retryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1118, in _update_retryable
    return self._database.client._retryable_write(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2082, in _retryable_write
    return self._retry_with_session(retryable, func, s, bulk, operation, operation_id)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 1968, in _retry_with_session
    return self._retry_internal(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2003, in _retry_internal
    return _ClientConnectionRetryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2765, in run
    return self._read() if self._is_read else self._write()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2897, in _write
    return self._func(self._session, conn, self._retryable)  # type: ignore
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1098, in _update
    return self._update(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1049, in _update
    conn.command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/helpers.py", line 47, in inner
    return func(*args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 441, in command
    self._raise_connection_failure(error)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 413, in command
    return command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/network.py", line 148, in command
    request_id, msg, size, max_doc_size = message._op_msg(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/message.py", line 419, in _op_msg
    return _op_msg_uncompressed(flags, command, identifier, docs, opts)
bson.errors.InvalidDocument: Invalid document {'q': {'order_id': 'TX-testing1'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 15, 29, 27, 837882), 'provider_response': {'order_tracking_id': 'ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'merchant_reference': 'TX-testing1', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'status': '500', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d&OrderMerchantReference=TX-testing1'}, 'message': 'Request processed successfully', 'payment_method': '', 'amount': Decimal('1000.0'), 'created_date': datetime.datetime(2025, 11, 9, 16, 11, 18, 510000), 'confirmation_code': '', 'payment_status_description': 'INVALID', 'description': None, 'payment_account': '', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d&OrderMerchantReference=TX-testing1', 'status_code': 0, 'currency': 'TZS'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=ebdd0e4f-f45b-4b4d-83c8-db1c143c3f6d', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 13, 1, 249000)}, {'old_status': '200', 'new_status': 'INVALID', 'source': 'MANUAL_CHECK', 'reason': 'INVALID', 'metadata': {'payment_method': '', 'confirmation_code': '', 'pesapal_status_description': 'INVALID', 'message': 'Request processed successfully'}, 'timestamp': datetime.datetime(2025, 11, 9, 15, 29, 27, 838094)}], 'status': 'INVALID', 'payment_state': 'FAILED', 'payment_method': '', 'confirmation_code': ''}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('1000.0'), of type: <class 'decimal.Decimal'>
2025-11-09 18:29:28 - app.routers.payments - INFO - Payment status updated: confirmation_code=None, status=INVALID
2025-11-09 18:33:23 - app.routers.payments - INFO - Refund request: order_tracking_id=4dabc4c9-6475-43e7-8a78-db1c25315042, payment_amount=1000 (1000.00), refund_amount=1000 (1000.00), currency=TZS, confirmation_code=7626990539466829704606, payment_method=Visa
2025-11-09 18:33:24 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:33:24 - pesapal.client - INFO - Requesting refund: confirmation_code=7626990539466829704606, amount=1000.00, username=john
2025-11-09 18:33:26 - pesapal.client - INFO - Refund request submitted: {'status': '200', 'message': 'Refund request successfully'}
2025-11-09 18:33:47 - main - INFO - Shutting down application...
2025-11-09 18:33:48 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:33:48 - main - INFO - Application shut down
2025-11-09 18:33:48 - main - INFO - Starting application...
2025-11-09 18:33:50 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:33:50 - main - INFO - Application started successfully
2025-11-09 18:33:51 - app.routers.payments - INFO - Refund request: order_tracking_id=4dabc4c9-6475-43e7-8a78-db1c25315042, payment_amount=1000 (1000.00), refund_amount=1000 (1000.00), currency=TZS, confirmation_code=7626990539466829704606, payment_method=Visa
2025-11-09 18:33:52 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:33:52 - pesapal.client - INFO - Requesting refund: confirmation_code=7626990539466829704606, amount=1000.00, username=john
2025-11-09 18:33:52 - pesapal.client - INFO - Refund request submitted: {'status': '500', 'message': 'Refund request has been received already'}
2025-11-09 18:34:42 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:34:42 - pesapal.client - INFO - Cancelling order: 4dabc4c9-6475-43e7-8a78-db1c25315042
2025-11-09 18:34:42 - pesapal.client - INFO - Order cancellation submitted: {'status': '500', 'message': 'Invalid order request. Transaction cannot be cancelled'}
2025-11-09 18:36:02 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:36:02 - pesapal.client - INFO - Cancelling order: 987d115b-c962-48cc-add7-db1c33532d24
2025-11-09 18:36:03 - pesapal.client - INFO - Order cancellation submitted: {'status': '500', 'message': 'Invalid order request. Transaction cannot be cancelled'}
2025-11-09 18:37:22 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:37:22 - pesapal.client - INFO - Cancelling order: ac70fcfa-62ef-4d7b-96ee-db1c2d3719bd
2025-11-09 18:37:22 - pesapal.client - INFO - Order cancellation submitted: {'status': '500', 'message': 'Invalid order request. Transaction cannot be cancelled'}
2025-11-09 18:38:10 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:38:10 - pesapal.client - INFO - Submitting payment order: TX-1 - 5000.0 TZS
2025-11-09 18:38:10 - app.services.payment_service - INFO - Payment initiated successfully: order_id=TX-1, tracking_id=dbc707c0-49be-43c8-823b-db1c193d0cfb
2025-11-09 18:40:50 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:40:50 - pesapal.client - INFO - Cancelling order: dbc707c0-49be-43c8-823b-db1c193d0cfb
2025-11-09 18:40:50 - pesapal.client - INFO - Order cancellation submitted: {'status': '500', 'message': 'Invalid order request. Transaction cannot be cancelled'}
2025-11-09 18:42:25 - main - INFO - Shutting down application...
2025-11-09 18:42:25 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:42:25 - main - INFO - Application shut down
2025-11-09 18:42:26 - main - INFO - Starting application...
2025-11-09 18:42:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:42:28 - main - INFO - Application started successfully
2025-11-09 18:42:36 - main - INFO - Shutting down application...
2025-11-09 18:42:36 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:42:36 - main - INFO - Application shut down
2025-11-09 18:42:36 - main - INFO - Starting application...
2025-11-09 18:42:38 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:42:38 - main - INFO - Application started successfully
2025-11-09 18:44:04 - main - INFO - Shutting down application...
2025-11-09 18:44:04 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:44:04 - main - INFO - Application shut down
2025-11-09 18:44:05 - main - INFO - Starting application...
2025-11-09 18:44:06 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:44:06 - main - INFO - Application started successfully
2025-11-09 18:44:49 - app.routers.payments - INFO - Fetching latest payment status before cancellation: 8af53716-dd0f-4396-9c4a-db1c2e8c4642
2025-11-09 18:44:50 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:44:50 - pesapal.client - INFO - Raw Pesapal status response keys: ['payment_method', 'amount', 'created_date', 'confirmation_code', 'order_tracking_id', 'payment_status_description', 'description', 'message', 'payment_account', 'call_back_url', 'status_code', 'merchant_reference', 'account_number', 'payment_status_code', 'currency', 'error', 'status']
2025-11-09 18:44:50 - pesapal.client - INFO - Payment method extracted: 
2025-11-09 18:44:50 - app.services.payment_service - INFO - Payment status from Pesapal: status_code=0 (0=INVALID, 1=COMPLETED, 2=FAILED, 3=REVERSED), payment_status_description=INVALID, payment_method=, confirmation_code=, mapped_status=INVALID
2025-11-09 18:44:51 - app.services.payment_service - ERROR - Unexpected error checking payment status for order TX-testing2: Invalid document {'q': {'order_id': 'TX-testing2'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 15, 44, 50, 946121), 'provider_response': {'order_tracking_id': '8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'merchant_reference': 'TX-testing2', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'status': '500', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642&OrderMerchantReference=TX-testing2'}, 'message': 'Request processed successfully', 'payment_method': '', 'amount': Decimal('1000.0'), 'created_date': datetime.datetime(2025, 11, 9, 16, 23, 40, 820000), 'confirmation_code': '', 'payment_status_description': 'INVALID', 'description': None, 'payment_account': '', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642&OrderMerchantReference=TX-testing2', 'status_code': 0, 'currency': 'TZS'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': '8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 14, 35, 147000)}, {'old_status': '200', 'new_status': 'INVALID', 'source': 'MANUAL_CHECK', 'reason': 'INVALID', 'metadata': {'payment_method': '', 'confirmation_code': '', 'pesapal_status_description': 'INVALID', 'message': 'Request processed successfully'}, 'timestamp': datetime.datetime(2025, 11, 9, 15, 44, 50, 946532)}], 'status': 'INVALID', 'payment_state': 'FAILED', 'payment_method': '', 'confirmation_code': ''}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('1000.0'), of type: <class 'decimal.Decimal'>
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/payment_service.py", line 347, in check_payment_status
    result = await self.repository.collection.update_one(
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1336, in update_one
    self._update_retryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1118, in _update_retryable
    return self._database.client._retryable_write(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2082, in _retryable_write
    return self._retry_with_session(retryable, func, s, bulk, operation, operation_id)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 1968, in _retry_with_session
    return self._retry_internal(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2003, in _retry_internal
    return _ClientConnectionRetryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2765, in run
    return self._read() if self._is_read else self._write()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2897, in _write
    return self._func(self._session, conn, self._retryable)  # type: ignore
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1098, in _update
    return self._update(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1049, in _update
    conn.command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/helpers.py", line 47, in inner
    return func(*args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 441, in command
    self._raise_connection_failure(error)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 413, in command
    return command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/network.py", line 148, in command
    request_id, msg, size, max_doc_size = message._op_msg(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/message.py", line 419, in _op_msg
    return _op_msg_uncompressed(flags, command, identifier, docs, opts)
bson.errors.InvalidDocument: Invalid document {'q': {'order_id': 'TX-testing2'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 15, 44, 50, 946121), 'provider_response': {'order_tracking_id': '8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'merchant_reference': 'TX-testing2', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'status': '500', 'error': {'error_type': 'api_error', 'code': 'payment_details_not_found', 'message': 'Pending Payment', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642&OrderMerchantReference=TX-testing2'}, 'message': 'Request processed successfully', 'payment_method': '', 'amount': Decimal('1000.0'), 'created_date': datetime.datetime(2025, 11, 9, 16, 23, 40, 820000), 'confirmation_code': '', 'payment_status_description': 'INVALID', 'description': None, 'payment_account': '', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642&OrderMerchantReference=TX-testing2', 'status_code': 0, 'currency': 'TZS'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': '8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=8af53716-dd0f-4396-9c4a-db1c2e8c4642', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 14, 14, 35, 147000)}, {'old_status': '200', 'new_status': 'INVALID', 'source': 'MANUAL_CHECK', 'reason': 'INVALID', 'metadata': {'payment_method': '', 'confirmation_code': '', 'pesapal_status_description': 'INVALID', 'message': 'Request processed successfully'}, 'timestamp': datetime.datetime(2025, 11, 9, 15, 44, 50, 946532)}], 'status': 'INVALID', 'payment_state': 'FAILED', 'payment_method': '', 'confirmation_code': ''}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('1000.0'), of type: <class 'decimal.Decimal'>
2025-11-09 18:44:51 - app.routers.payments - INFO - Cancelling order: order_tracking_id=8af53716-dd0f-4396-9c4a-db1c2e8c4642, status=INVALID, payment_state=FAILED, is_completed=False
2025-11-09 18:44:51 - pesapal.client - INFO - Cancelling order: 8af53716-dd0f-4396-9c4a-db1c2e8c4642
2025-11-09 18:44:51 - pesapal.client - INFO - Order cancellation submitted: {'status': '200', 'message': 'Order successfully cancelled.'}
2025-11-09 18:45:14 - app.routers.payments - INFO - Fetching latest payment status before cancellation: dbc707c0-49be-43c8-823b-db1c193d0cfb
2025-11-09 18:45:15 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:45:16 - pesapal.client - INFO - Raw Pesapal status response keys: ['payment_method', 'amount', 'created_date', 'confirmation_code', 'order_tracking_id', 'payment_status_description', 'description', 'message', 'payment_account', 'call_back_url', 'status_code', 'merchant_reference', 'account_number', 'payment_status_code', 'currency', 'error', 'status']
2025-11-09 18:45:16 - pesapal.client - INFO - Payment method extracted: Visa
2025-11-09 18:45:16 - app.services.payment_service - INFO - Payment status from Pesapal: status_code=1 (0=INVALID, 1=COMPLETED, 2=FAILED, 3=REVERSED), payment_status_description=Completed, payment_method=Visa, confirmation_code=7627027461296499004606, mapped_status=200
2025-11-09 18:45:16 - app.services.payment_service - ERROR - Unexpected error checking payment status for order TX-1: Invalid document {'q': {'order_id': 'TX-1'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 15, 45, 16, 265472), 'provider_response': {'order_tracking_id': 'dbc707c0-49be-43c8-823b-db1c193d0cfb', 'merchant_reference': 'TX-1', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=dbc707c0-49be-43c8-823b-db1c193d0cfb', 'status': '200', 'error': {'error_type': None, 'code': None, 'message': None}, 'message': 'Request processed successfully', 'payment_method': 'Visa', 'amount': Decimal('1000.0'), 'created_date': datetime.datetime(2025, 11, 9, 18, 39, 8, 340000), 'confirmation_code': '7627027461296499004606', 'payment_status_description': 'Completed', 'description': 'Transaction successfully processed.', 'payment_account': '476173XXXXXX0010', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=dbc707c0-49be-43c8-823b-db1c193d0cfb&OrderMerchantReference=TX-1', 'status_code': 1, 'currency': 'TZS'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'dbc707c0-49be-43c8-823b-db1c193d0cfb', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=dbc707c0-49be-43c8-823b-db1c193d0cfb', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 15, 38, 10, 409000)}], 'status': '200', 'payment_state': 'COMPLETED', 'payment_method': 'Visa', 'confirmation_code': '7627027461296499004606'}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('1000.0'), of type: <class 'decimal.Decimal'>
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/services/payment_service.py", line 347, in check_payment_status
    result = await self.repository.collection.update_one(
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1336, in update_one
    self._update_retryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1118, in _update_retryable
    return self._database.client._retryable_write(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2082, in _retryable_write
    return self._retry_with_session(retryable, func, s, bulk, operation, operation_id)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 1968, in _retry_with_session
    return self._retry_internal(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2003, in _retry_internal
    return _ClientConnectionRetryable(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2765, in run
    return self._read() if self._is_read else self._write()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/mongo_client.py", line 2897, in _write
    return self._func(self._session, conn, self._retryable)  # type: ignore
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1098, in _update
    return self._update(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/collection.py", line 1049, in _update
    conn.command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/helpers.py", line 47, in inner
    return func(*args, **kwargs)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 441, in command
    self._raise_connection_failure(error)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/pool.py", line 413, in command
    return command(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/synchronous/network.py", line 148, in command
    request_id, msg, size, max_doc_size = message._op_msg(
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/venv/lib/python3.9/site-packages/pymongo/message.py", line 419, in _op_msg
    return _op_msg_uncompressed(flags, command, identifier, docs, opts)
bson.errors.InvalidDocument: Invalid document {'q': {'order_id': 'TX-1'}, 'u': {'$set': {'last_status_check': datetime.datetime(2025, 11, 9, 15, 45, 16, 265472), 'provider_response': {'order_tracking_id': 'dbc707c0-49be-43c8-823b-db1c193d0cfb', 'merchant_reference': 'TX-1', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=dbc707c0-49be-43c8-823b-db1c193d0cfb', 'status': '200', 'error': {'error_type': None, 'code': None, 'message': None}, 'message': 'Request processed successfully', 'payment_method': 'Visa', 'amount': Decimal('1000.0'), 'created_date': datetime.datetime(2025, 11, 9, 18, 39, 8, 340000), 'confirmation_code': '7627027461296499004606', 'payment_status_description': 'Completed', 'description': 'Transaction successfully processed.', 'payment_account': '476173XXXXXX0010', 'call_back_url': 'https://payment-helper.onrender.com/payments/callback?OrderTrackingId=dbc707c0-49be-43c8-823b-db1c193d0cfb&OrderMerchantReference=TX-1', 'status_code': 1, 'currency': 'TZS'}, 'status_history': [{'old_status': 'PENDING', 'new_status': '200', 'source': 'CREATION', 'reason': 'Submitted to Pesapal', 'metadata': {'order_tracking_id': 'dbc707c0-49be-43c8-823b-db1c193d0cfb', 'redirect_url': 'https://cybqa.pesapal.com/pesapaliframe/PesapalIframe3/Index?OrderTrackingId=dbc707c0-49be-43c8-823b-db1c193d0cfb', 'pesapal_status': '200'}, 'timestamp': datetime.datetime(2025, 11, 9, 15, 38, 10, 409000)}], 'status': '200', 'payment_state': 'COMPLETED', 'payment_method': 'Visa', 'confirmation_code': '7627027461296499004606'}}, 'multi': False, 'upsert': False} | cannot encode object: Decimal('1000.0'), of type: <class 'decimal.Decimal'>
2025-11-09 18:45:53 - app.routers.webhooks - INFO - Webhook GET headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 18:45:53 - app.routers.webhooks - INFO - Webhook GET data received: {}
2025-11-09 18:45:53 - app.routers.webhooks - WARNING - Webhook GET received without signature - processing anyway
2025-11-09 18:45:53 - app.routers.webhooks - WARNING - OrderNotificationType not found in webhook data (GET) from Pesapal
2025-11-09 18:45:53 - app.routers.webhooks - WARNING - Webhook GET received but missing required fields (OrderTrackingId or OrderMerchantReference)
2025-11-09 18:45:59 - app.routers.webhooks - INFO - Webhook headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '0', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Not_A Brand";v="99", "Chromium";v="142"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'origin': 'http://localhost:8000', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9', 'cookie': '_ga=GA1.1.1685698082.1760778780; accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZjhiNDAyMGMxMmY5YTc4MTNlZDliMyIsIm5hbWUiOiJFcmljayIsImVtYWlsIjoiaGVqYWJleDkzMEBmb3hyb2lkcy5jb20iLCJyb2xlIjoiSE9URUwiLCJpYXQiOjE3NjExMjk0OTcsImV4cCI6MTc2MTczNDI5N30.LPxxPmJ792nh6p99mLNZ41-j1odyBal21fLPSJG2TgE; _ga_XB8EDYJTYJ=GS2.1.s1762271331$o15$g1$t1762272832$j60$l0$h0; sessionId=e3b51f21-e269-4a36-b8fa-776f913c2e05; __next_hmr_refresh_hash__=171'}
2025-11-09 18:45:59 - app.routers.webhooks - INFO - Webhook raw body: 
2025-11-09 18:45:59 - app.routers.webhooks - INFO - Content-Type: 
2025-11-09 18:45:59 - app.routers.webhooks - INFO - Webhook data received: {}
2025-11-09 18:45:59 - app.routers.webhooks - WARNING - Empty webhook data received. Body: , Content-Type: 
2025-11-09 18:46:51 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:46:51 - pesapal.client - INFO - Registering IPN URL: https://example.com (type: GET)
2025-11-09 18:46:51 - pesapal.client - INFO - IPN registered successfully: notification_id=61f275eb-e7db-45d1-b1d0-db1c8365d2c8
2025-11-09 18:46:51 - app.routers.ipn - INFO - IPN registered: notification_id=61f275eb-e7db-45d1-b1d0-db1c8365d2c8, url=https://example.com
2025-11-09 18:47:05 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:47:05 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:47:05 - app.routers.ipn - ERROR - Error fetching IPN list: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/URLSetup/GetRegisteredNotificationUrl'.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 574, in get_registered_ipns
    response_data = await self._request("GET", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/URLSetup/GetRegisteredNotificationUrl'.
2025-11-09 18:48:30 - main - INFO - Shutting down application...
2025-11-09 18:48:31 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:48:31 - main - INFO - Application shut down
2025-11-09 18:48:32 - main - INFO - Starting application...
2025-11-09 18:48:33 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:48:33 - main - INFO - Application started successfully
2025-11-09 18:48:34 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:48:34 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:48:35 - app.routers.ipn - ERROR - Error fetching IPN list: The requested resource does not support http method 'GET'.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 574, in get_registered_ipns
    response_data = await self._request("GET", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: The requested resource does not support http method 'GET'.
2025-11-09 18:50:46 - main - INFO - Shutting down application...
2025-11-09 18:50:46 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:50:46 - main - INFO - Application shut down
2025-11-09 18:50:47 - main - INFO - Starting application...
2025-11-09 18:50:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:50:48 - main - INFO - Application started successfully
2025-11-09 18:51:26 - main - INFO - Shutting down application...
2025-11-09 18:51:26 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:51:26 - main - INFO - Application shut down
2025-11-09 18:51:26 - main - INFO - Starting application...
2025-11-09 18:51:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:51:28 - main - INFO - Application started successfully
2025-11-09 18:51:29 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:51:29 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:51:30 - app.routers.ipn - ERROR - Error fetching IPN list: The requested resource does not support http method 'GET'.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 574, in get_registered_ipns
    response_data = await self._request("GET", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: The requested resource does not support http method 'GET'.
2025-11-09 18:52:01 - main - INFO - Shutting down application...
2025-11-09 18:52:01 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:52:01 - main - INFO - Application shut down
2025-11-09 18:52:02 - main - INFO - Starting application...
2025-11-09 18:52:03 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:52:03 - main - INFO - Application started successfully
2025-11-09 18:52:04 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:52:04 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:52:05 - app.routers.ipn - ERROR - Error fetching IPN list: An error has occurred.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 574, in get_registered_ipns
    response_data = await self._request("POST", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: An error has occurred.
2025-11-09 18:52:29 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:52:29 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:52:30 - app.routers.ipn - ERROR - Error fetching IPN list: An error has occurred.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 574, in get_registered_ipns
    response_data = await self._request("POST", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: An error has occurred.
2025-11-09 18:52:58 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:52:58 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:52:58 - app.routers.ipn - ERROR - Error fetching IPN list: An error has occurred.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 574, in get_registered_ipns
    response_data = await self._request("POST", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: An error has occurred.
2025-11-09 18:53:41 - main - INFO - Shutting down application...
2025-11-09 18:53:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:53:41 - main - INFO - Application shut down
2025-11-09 18:53:42 - main - INFO - Starting application...
2025-11-09 18:53:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:53:43 - main - INFO - Application started successfully
2025-11-09 18:53:44 - main - INFO - Shutting down application...
2025-11-09 18:53:44 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:53:44 - main - INFO - Application shut down
2025-11-09 18:53:45 - main - INFO - Starting application...
2025-11-09 18:53:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:53:46 - main - INFO - Application started successfully
2025-11-09 18:53:54 - main - INFO - Shutting down application...
2025-11-09 18:53:54 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:53:54 - main - INFO - Application shut down
2025-11-09 18:53:54 - main - INFO - Starting application...
2025-11-09 18:53:56 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:53:56 - main - INFO - Application started successfully
2025-11-09 18:54:03 - main - INFO - Shutting down application...
2025-11-09 18:54:03 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:54:03 - main - INFO - Application shut down
2025-11-09 18:54:03 - main - INFO - Starting application...
2025-11-09 18:54:05 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:54:05 - main - INFO - Application started successfully
2025-11-09 18:54:13 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:54:13 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:54:13 - app.routers.ipn - ERROR - Error fetching IPN list: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/URLSetup/GetRegisteredNotificationUrl'.
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 577, in get_registered_ipns
    response_data = await self._request("GET", ENDPOINT_IPN_LIST, include_auth=True)
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 243, in _request
    raise PesapalAPIError(
pesapal.exceptions.PesapalAPIError: No HTTP resource was found that matches the request URI 'https://cybqa.pesapal.com/pesapalv3/api/URLSetup/GetRegisteredNotificationUrl'.
2025-11-09 18:54:13 - main - INFO - Shutting down application...
2025-11-09 18:54:13 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:54:13 - main - INFO - Application shut down
2025-11-09 18:54:13 - main - INFO - Starting application...
2025-11-09 18:54:15 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:54:15 - main - INFO - Application started successfully
2025-11-09 18:54:58 - main - INFO - Shutting down application...
2025-11-09 18:54:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:54:58 - main - INFO - Application shut down
2025-11-09 18:54:58 - main - INFO - Starting application...
2025-11-09 18:55:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:55:00 - main - INFO - Application started successfully
2025-11-09 18:55:06 - main - INFO - Shutting down application...
2025-11-09 18:55:06 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:55:06 - main - INFO - Application shut down
2025-11-09 18:55:06 - main - INFO - Starting application...
2025-11-09 18:55:08 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:55:08 - main - INFO - Application started successfully
2025-11-09 18:55:29 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:55:29 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:55:30 - app.routers.ipn - ERROR - Error fetching IPN list: 'int' object has no attribute 'upper'
Traceback (most recent call last):
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/app/routers/ipn.py", line 84, in list_registered_ipns
    ipn_list = await client.get_registered_ipns()
  File "/Users/mac/Desktop/Projects/sidejob/sdk-payments/pesapal/client.py", line 653, in get_registered_ipns
    ipn_notification_type=ipn_type.upper(),
AttributeError: 'int' object has no attribute 'upper'
2025-11-09 18:55:58 - main - INFO - Shutting down application...
2025-11-09 18:55:58 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:55:58 - main - INFO - Application shut down
2025-11-09 18:55:58 - main - INFO - Starting application...
2025-11-09 18:56:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:56:00 - main - INFO - Application started successfully
2025-11-09 18:56:00 - main - INFO - Shutting down application...
2025-11-09 18:56:00 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:56:00 - main - INFO - Application shut down
2025-11-09 18:56:01 - main - INFO - Starting application...
2025-11-09 18:56:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:56:02 - main - INFO - Application started successfully
2025-11-09 18:56:06 - main - INFO - Shutting down application...
2025-11-09 18:56:06 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:56:06 - main - INFO - Application shut down
2025-11-09 18:56:06 - main - INFO - Starting application...
2025-11-09 18:56:08 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:56:08 - main - INFO - Application started successfully
2025-11-09 18:56:13 - pesapal.client - INFO - OAuth token obtained successfully (expires in 5 minutes)
2025-11-09 18:56:13 - pesapal.client - INFO - Fetching registered IPN URLs...
2025-11-09 18:56:14 - pesapal.client - INFO - Found 835 registered IPN(s)
2025-11-09 18:56:40 - main - INFO - Shutting down application...
2025-11-09 18:56:40 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:56:40 - main - INFO - Application shut down
2025-11-09 18:56:40 - main - INFO - Starting application...
2025-11-09 18:56:42 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:56:42 - main - INFO - Application started successfully
2025-11-09 18:58:26 - main - INFO - Shutting down application...
2025-11-09 18:58:27 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:58:27 - main - INFO - Application shut down
2025-11-09 18:58:27 - main - INFO - Starting application...
2025-11-09 18:58:29 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:29 - main - INFO - Application started successfully
2025-11-09 18:58:29 - main - INFO - Starting application...
2025-11-09 18:58:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:31 - main - INFO - Application started successfully
2025-11-09 18:58:31 - main - INFO - Starting application...
2025-11-09 18:58:33 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:33 - main - INFO - Application started successfully
2025-11-09 18:58:33 - main - INFO - Starting application...
2025-11-09 18:58:35 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:35 - main - INFO - Application started successfully
2025-11-09 18:58:35 - main - INFO - Starting application...
2025-11-09 18:58:37 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:37 - main - INFO - Application started successfully
2025-11-09 18:58:38 - main - INFO - Shutting down application...
2025-11-09 18:58:38 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:58:38 - main - INFO - Application shut down
2025-11-09 18:58:38 - main - INFO - Starting application...
2025-11-09 18:58:40 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:40 - main - INFO - Application started successfully
2025-11-09 18:58:40 - main - INFO - Shutting down application...
2025-11-09 18:58:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:58:41 - main - INFO - Application shut down
2025-11-09 18:58:41 - main - INFO - Starting application...
2025-11-09 18:58:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:43 - main - INFO - Application started successfully
2025-11-09 18:58:43 - main - INFO - Starting application...
2025-11-09 18:58:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:44 - main - INFO - Application started successfully
2025-11-09 18:58:45 - main - INFO - Starting application...
2025-11-09 18:58:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:46 - main - INFO - Application started successfully
2025-11-09 18:58:47 - main - INFO - Starting application...
2025-11-09 18:58:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:48 - main - INFO - Application started successfully
2025-11-09 18:58:51 - main - INFO - Shutting down application...
2025-11-09 18:58:51 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:58:51 - main - INFO - Application shut down
2025-11-09 18:58:52 - main - INFO - Starting application...
2025-11-09 18:58:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:53 - main - INFO - Application started successfully
2025-11-09 18:58:54 - main - INFO - Starting application...
2025-11-09 18:58:55 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:55 - main - INFO - Application started successfully
2025-11-09 18:58:57 - main - INFO - Shutting down application...
2025-11-09 18:58:57 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:58:57 - main - INFO - Application shut down
2025-11-09 18:58:58 - main - INFO - Starting application...
2025-11-09 18:58:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:58:59 - main - INFO - Application started successfully
2025-11-09 18:59:02 - main - INFO - Shutting down application...
2025-11-09 18:59:02 - app.database.db - INFO - MongoDB disconnected
2025-11-09 18:59:02 - main - INFO - Application shut down
2025-11-09 18:59:34 - main - INFO - Starting application...
2025-11-09 18:59:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 18:59:36 - main - INFO - Application started successfully
2025-11-09 19:00:00 - main - INFO - Shutting down application...
2025-11-09 19:00:00 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:00:00 - main - INFO - Application shut down
2025-11-09 19:00:00 - main - INFO - Starting application...
2025-11-09 19:00:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:00:02 - main - INFO - Application started successfully
2025-11-09 19:00:14 - main - INFO - Shutting down application...
2025-11-09 19:00:14 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:00:14 - main - INFO - Application shut down
2025-11-09 19:00:15 - main - INFO - Starting application...
2025-11-09 19:00:17 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:00:17 - main - INFO - Application started successfully
2025-11-09 19:00:30 - main - INFO - Shutting down application...
2025-11-09 19:00:30 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:00:30 - main - INFO - Application shut down
2025-11-09 19:00:30 - main - INFO - Starting application...
2025-11-09 19:00:32 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:00:32 - main - INFO - Application started successfully
2025-11-09 19:01:19 - main - INFO - Shutting down application...
2025-11-09 19:01:19 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:01:19 - main - INFO - Application shut down
2025-11-09 19:01:20 - main - INFO - Starting application...
2025-11-09 19:01:21 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:21 - main - INFO - Application started successfully
2025-11-09 19:01:22 - main - INFO - Starting application...
2025-11-09 19:01:23 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:23 - main - INFO - Application started successfully
2025-11-09 19:01:24 - main - INFO - Starting application...
2025-11-09 19:01:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:25 - main - INFO - Application started successfully
2025-11-09 19:01:26 - main - INFO - Starting application...
2025-11-09 19:01:27 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:27 - main - INFO - Application started successfully
2025-11-09 19:01:28 - main - INFO - Starting application...
2025-11-09 19:01:29 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:29 - main - INFO - Application started successfully
2025-11-09 19:01:30 - main - INFO - Starting application...
2025-11-09 19:01:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:31 - main - INFO - Application started successfully
2025-11-09 19:01:32 - main - INFO - Starting application...
2025-11-09 19:01:33 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:33 - main - INFO - Application started successfully
2025-11-09 19:01:34 - main - INFO - Starting application...
2025-11-09 19:01:35 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:35 - main - INFO - Application started successfully
2025-11-09 19:01:36 - main - INFO - Starting application...
2025-11-09 19:01:37 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:37 - main - INFO - Application started successfully
2025-11-09 19:01:38 - main - INFO - Starting application...
2025-11-09 19:01:39 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:39 - main - INFO - Application started successfully
2025-11-09 19:01:40 - main - INFO - Starting application...
2025-11-09 19:01:41 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:41 - main - INFO - Application started successfully
2025-11-09 19:01:42 - main - INFO - Starting application...
2025-11-09 19:01:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:43 - main - INFO - Application started successfully
2025-11-09 19:01:44 - main - INFO - Starting application...
2025-11-09 19:01:45 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:45 - main - INFO - Application started successfully
2025-11-09 19:01:46 - main - INFO - Starting application...
2025-11-09 19:01:47 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:47 - main - INFO - Application started successfully
2025-11-09 19:01:48 - main - INFO - Starting application...
2025-11-09 19:01:49 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:49 - main - INFO - Application started successfully
2025-11-09 19:01:50 - main - INFO - Starting application...
2025-11-09 19:01:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:51 - main - INFO - Application started successfully
2025-11-09 19:01:51 - main - INFO - Starting application...
2025-11-09 19:01:53 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:53 - main - INFO - Application started successfully
2025-11-09 19:01:53 - main - INFO - Starting application...
2025-11-09 19:01:55 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:55 - main - INFO - Application started successfully
2025-11-09 19:01:55 - main - INFO - Starting application...
2025-11-09 19:01:57 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:57 - main - INFO - Application started successfully
2025-11-09 19:01:57 - main - INFO - Starting application...
2025-11-09 19:01:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:01:59 - main - INFO - Application started successfully
2025-11-09 19:01:59 - main - INFO - Starting application...
2025-11-09 19:02:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:01 - main - INFO - Application started successfully
2025-11-09 19:02:01 - main - INFO - Starting application...
2025-11-09 19:02:03 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:03 - main - INFO - Application started successfully
2025-11-09 19:02:03 - main - INFO - Starting application...
2025-11-09 19:02:05 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:05 - main - INFO - Application started successfully
2025-11-09 19:02:05 - main - INFO - Starting application...
2025-11-09 19:02:07 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:07 - main - INFO - Application started successfully
2025-11-09 19:02:07 - main - INFO - Starting application...
2025-11-09 19:02:10 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:10 - main - INFO - Application started successfully
2025-11-09 19:02:10 - main - INFO - Starting application...
2025-11-09 19:02:12 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:12 - main - INFO - Application started successfully
2025-11-09 19:02:12 - main - INFO - Starting application...
2025-11-09 19:02:14 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:14 - main - INFO - Application started successfully
2025-11-09 19:02:14 - main - INFO - Starting application...
2025-11-09 19:02:16 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:16 - main - INFO - Application started successfully
2025-11-09 19:02:16 - main - INFO - Starting application...
2025-11-09 19:02:17 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:17 - main - INFO - Application started successfully
2025-11-09 19:02:18 - main - INFO - Starting application...
2025-11-09 19:02:19 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:19 - main - INFO - Application started successfully
2025-11-09 19:02:20 - main - INFO - Starting application...
2025-11-09 19:02:21 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:21 - main - INFO - Application started successfully
2025-11-09 19:02:22 - main - INFO - Starting application...
2025-11-09 19:02:23 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:23 - main - INFO - Application started successfully
2025-11-09 19:02:24 - main - INFO - Starting application...
2025-11-09 19:02:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:25 - main - INFO - Application started successfully
2025-11-09 19:02:26 - main - INFO - Starting application...
2025-11-09 19:02:27 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:27 - main - INFO - Application started successfully
2025-11-09 19:02:28 - main - INFO - Starting application...
2025-11-09 19:02:29 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:29 - main - INFO - Application started successfully
2025-11-09 19:02:30 - main - INFO - Starting application...
2025-11-09 19:02:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:31 - main - INFO - Application started successfully
2025-11-09 19:02:31 - main - INFO - Starting application...
2025-11-09 19:02:33 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:33 - main - INFO - Application started successfully
2025-11-09 19:02:41 - main - INFO - Shutting down application...
2025-11-09 19:02:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:02:42 - main - INFO - Application shut down
2025-11-09 19:02:42 - main - INFO - Starting application...
2025-11-09 19:02:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:44 - main - INFO - Application started successfully
2025-11-09 19:02:44 - main - INFO - Starting application...
2025-11-09 19:02:46 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:46 - main - INFO - Application started successfully
2025-11-09 19:02:46 - main - INFO - Starting application...
2025-11-09 19:02:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:48 - main - INFO - Application started successfully
2025-11-09 19:02:49 - main - INFO - Starting application...
2025-11-09 19:02:50 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:50 - main - INFO - Application started successfully
2025-11-09 19:02:50 - main - INFO - Starting application...
2025-11-09 19:02:52 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:52 - main - INFO - Application started successfully
2025-11-09 19:02:52 - main - INFO - Starting application...
2025-11-09 19:02:54 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:54 - main - INFO - Application started successfully
2025-11-09 19:02:54 - main - INFO - Starting application...
2025-11-09 19:02:56 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:56 - main - INFO - Application started successfully
2025-11-09 19:02:56 - main - INFO - Starting application...
2025-11-09 19:02:58 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:02:58 - main - INFO - Application started successfully
2025-11-09 19:02:58 - main - INFO - Starting application...
2025-11-09 19:03:00 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:00 - main - INFO - Application started successfully
2025-11-09 19:03:00 - main - INFO - Starting application...
2025-11-09 19:03:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:02 - main - INFO - Application started successfully
2025-11-09 19:03:02 - main - INFO - Starting application...
2025-11-09 19:03:04 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:04 - main - INFO - Application started successfully
2025-11-09 19:03:04 - main - INFO - Starting application...
2025-11-09 19:03:06 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:06 - main - INFO - Application started successfully
2025-11-09 19:03:06 - main - INFO - Starting application...
2025-11-09 19:03:08 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:08 - main - INFO - Application started successfully
2025-11-09 19:03:08 - main - INFO - Starting application...
2025-11-09 19:03:10 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:10 - main - INFO - Application started successfully
2025-11-09 19:03:10 - main - INFO - Starting application...
2025-11-09 19:03:12 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:12 - main - INFO - Application started successfully
2025-11-09 19:03:12 - main - INFO - Starting application...
2025-11-09 19:03:13 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:13 - main - INFO - Application started successfully
2025-11-09 19:03:14 - main - INFO - Starting application...
2025-11-09 19:03:15 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:15 - main - INFO - Application started successfully
2025-11-09 19:03:16 - main - INFO - Starting application...
2025-11-09 19:03:17 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:17 - main - INFO - Application started successfully
2025-11-09 19:03:18 - main - INFO - Starting application...
2025-11-09 19:03:19 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:19 - main - INFO - Application started successfully
2025-11-09 19:03:20 - main - INFO - Starting application...
2025-11-09 19:03:21 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:21 - main - INFO - Application started successfully
2025-11-09 19:03:29 - main - INFO - Shutting down application...
2025-11-09 19:03:29 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:03:29 - main - INFO - Application shut down
2025-11-09 19:03:30 - main - INFO - Starting application...
2025-11-09 19:03:31 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:31 - main - INFO - Application started successfully
2025-11-09 19:03:32 - main - INFO - Shutting down application...
2025-11-09 19:03:32 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:03:32 - main - INFO - Application shut down
2025-11-09 19:03:32 - main - INFO - Starting application...
2025-11-09 19:03:34 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:34 - main - INFO - Application started successfully
2025-11-09 19:03:47 - main - INFO - Shutting down application...
2025-11-09 19:03:47 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:03:47 - main - INFO - Application shut down
2025-11-09 19:03:47 - main - INFO - Starting application...
2025-11-09 19:03:49 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:03:49 - main - INFO - Application started successfully
2025-11-09 19:04:42 - main - INFO - Shutting down application...
2025-11-09 19:04:42 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:04:42 - main - INFO - Application shut down
2025-11-09 19:04:42 - main - INFO - Starting application...
2025-11-09 19:04:44 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:04:44 - main - INFO - Application started successfully
2025-11-09 19:09:22 - main - INFO - Shutting down application...
2025-11-09 19:09:22 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:09:22 - main - INFO - Application shut down
2025-11-09 19:09:23 - main - INFO - Starting application...
2025-11-09 19:09:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:09:25 - main - INFO - Application started successfully
2025-11-09 19:09:25 - main - INFO - Starting application...
2025-11-09 19:09:27 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:09:27 - main - INFO - Application started successfully
2025-11-09 19:10:25 - main - INFO - Shutting down application...
2025-11-09 19:10:25 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:10:25 - main - INFO - Application shut down
2025-11-09 19:10:26 - main - INFO - Starting application...
2025-11-09 19:10:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:10:28 - main - INFO - Application started successfully
2025-11-09 19:11:23 - main - INFO - Shutting down application...
2025-11-09 19:11:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:11:23 - main - INFO - Application shut down
2025-11-09 19:11:23 - main - INFO - Starting application...
2025-11-09 19:11:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:11:25 - main - INFO - Application started successfully
2025-11-09 19:11:41 - main - INFO - Shutting down application...
2025-11-09 19:11:41 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:11:41 - main - INFO - Application shut down
2025-11-09 19:11:41 - main - INFO - Starting application...
2025-11-09 19:11:43 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:11:43 - main - INFO - Application started successfully
2025-11-09 19:13:23 - main - INFO - Shutting down application...
2025-11-09 19:13:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:13:23 - main - INFO - Application shut down
2025-11-09 19:13:24 - main - INFO - Starting application...
2025-11-09 19:13:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:13:26 - main - INFO - Application started successfully
2025-11-09 19:13:26 - main - INFO - Starting application...
2025-11-09 19:13:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:13:28 - main - INFO - Application started successfully
2025-11-09 19:21:12 - main - INFO - Shutting down application...
2025-11-09 19:21:12 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:21:12 - main - INFO - Application shut down
2025-11-09 19:21:13 - main - INFO - Starting application...
2025-11-09 19:21:15 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:21:15 - main - INFO - Application started successfully
2025-11-09 19:26:46 - main - INFO - Shutting down application...
2025-11-09 19:26:46 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:26:46 - main - INFO - Application shut down
2025-11-09 19:26:47 - main - INFO - Starting application...
2025-11-09 19:26:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:26:48 - main - INFO - Application started successfully
2025-11-09 19:27:45 - main - INFO - Shutting down application...
2025-11-09 19:27:46 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:27:46 - main - INFO - Application shut down
2025-11-09 19:27:46 - main - INFO - Starting application...
2025-11-09 19:27:48 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:27:48 - main - INFO - Application started successfully
2025-11-09 19:28:19 - main - INFO - Shutting down application...
2025-11-09 19:28:19 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:28:19 - main - INFO - Application shut down
2025-11-09 19:28:20 - main - INFO - Starting application...
2025-11-09 19:28:21 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:28:21 - main - INFO - Application started successfully
2025-11-09 19:30:57 - main - INFO - Shutting down application...
2025-11-09 19:30:57 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:30:57 - main - INFO - Application shut down
2025-11-09 19:30:57 - main - INFO - Starting application...
2025-11-09 19:30:59 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:30:59 - main - INFO - Application started successfully
2025-11-09 19:32:23 - main - INFO - Shutting down application...
2025-11-09 19:32:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:32:23 - main - INFO - Application shut down
2025-11-09 19:32:24 - main - INFO - Starting application...
2025-11-09 19:32:26 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:32:26 - main - INFO - Application started successfully
2025-11-09 19:32:34 - main - INFO - Shutting down application...
2025-11-09 19:32:34 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:32:34 - main - INFO - Application shut down
2025-11-09 19:32:34 - main - INFO - Starting application...
2025-11-09 19:32:36 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:32:36 - main - INFO - Application started successfully
2025-11-09 19:34:25 - main - INFO - Shutting down application...
2025-11-09 19:34:25 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:34:25 - main - INFO - Application shut down
2025-11-09 19:34:26 - main - INFO - Starting application...
2025-11-09 19:34:28 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:34:28 - main - INFO - Application started successfully
2025-11-09 19:34:49 - main - INFO - Shutting down application...
2025-11-09 19:34:49 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:34:49 - main - INFO - Application shut down
2025-11-09 19:34:49 - main - INFO - Starting application...
2025-11-09 19:34:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:34:51 - main - INFO - Application started successfully
2025-11-09 19:34:59 - main - INFO - Shutting down application...
2025-11-09 19:34:59 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:34:59 - main - INFO - Application shut down
2025-11-09 19:34:59 - main - INFO - Starting application...
2025-11-09 19:35:01 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:35:01 - main - INFO - Application started successfully
2025-11-09 19:42:27 - main - INFO - Shutting down application...
2025-11-09 19:42:27 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:42:27 - main - INFO - Application shut down
2025-11-09 19:42:28 - main - INFO - Starting application...
2025-11-09 19:42:30 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:42:30 - main - INFO - Application started successfully
2025-11-09 19:42:30 - main - INFO - Starting application...
2025-11-09 19:42:32 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:42:32 - main - INFO - Application started successfully
2025-11-09 19:44:17 - main - INFO - Shutting down application...
2025-11-09 19:44:17 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:44:17 - main - INFO - Application shut down
2025-11-09 19:44:18 - main - INFO - Starting application...
2025-11-09 19:44:19 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:44:19 - main - INFO - Application started successfully
2025-11-09 19:47:48 - main - INFO - Shutting down application...
2025-11-09 19:47:49 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:47:49 - main - INFO - Application shut down
2025-11-09 19:47:49 - main - INFO - Starting application...
2025-11-09 19:47:51 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:47:51 - main - INFO - Application started successfully
2025-11-09 19:48:00 - main - INFO - Shutting down application...
2025-11-09 19:48:00 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:48:00 - main - INFO - Application shut down
2025-11-09 19:48:00 - main - INFO - Starting application...
2025-11-09 19:48:02 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:48:02 - main - INFO - Application started successfully
2025-11-09 19:48:23 - main - INFO - Shutting down application...
2025-11-09 19:48:23 - app.database.db - INFO - MongoDB disconnected
2025-11-09 19:48:23 - main - INFO - Application shut down
2025-11-09 19:48:23 - main - INFO - Starting application...
2025-11-09 19:48:25 - app.database.db - INFO - MongoDB connected: payments-helper-db
2025-11-09 19:48:25 - main - INFO - Application started successfully
